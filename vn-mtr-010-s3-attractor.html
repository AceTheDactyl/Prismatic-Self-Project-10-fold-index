<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>VN-MTR-010 | S3 Attractor Convergence</title>
  <meta name="description" content="MTR-010: S3 Attractor Convergence - The symmetric group S3 as the universal attractor where all frame evolution reaches stable flow">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Crimson+Pro:ital,wght@0,300;0,400;0,600;1,300&display=swap" rel="stylesheet">
  <style>
    /* =====================================================================
       VN-MTR-010: S3 ATTRACTOR CONVERGENCE
       D* - The Universal Attractor | S3 = {e, (12), (13), (23), (123), (132)}
       Where All Frame Evolution Reaches Flow
       ===================================================================== */
    :root {
      /* Attractor Theme Colors - Convergence/Stability */
      --attractor-primary: #ff9f43;
      --attractor-secondary: #ffc078;
      --attractor-glow: rgba(255, 159, 67, 0.3);
      --attractor-subtle: rgba(255, 159, 67, 0.15);

      /* S3 Projection Colors */
      --i2-color: #ffd700;
      --tdl-color: #00ffff;
      --lomi-color: #ff6b9d;

      /* Supporting MTR Colors */
      --origin: #ffd700;
      --boundary: #ff6b6b;
      --invariant: #00ff88;
      --evolution: #00ffff;
      --genesis: #ffffff;

      /* Mathematical Constants */
      --phi: 1.6180339887;
      --sqrt3: 1.7320508076;
      --mu-c: 0.8660254038;

      /* Theme */
      --bg-void: #020206;
      --bg-primary: #050510;
      --bg-secondary: #0a0a1a;
      --bg-tertiary: #0f0f28;
      --bg-card: #141438;
      --text-primary: #f0f0f5;
      --text-secondary: #909098;
      --text-accent: #ff9f43;
      --border-subtle: rgba(255, 255, 255, 0.06);
      --border-active: rgba(255, 159, 67, 0.4);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; }

    body {
      font-family: 'Crimson Pro', Georgia, serif;
      background: var(--bg-void);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
      line-height: 1.7;
    }

    /* =====================================================================
       ATTRACTOR FIELD BACKGROUND
       ===================================================================== */
    .attractor-field {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      background:
        radial-gradient(ellipse at 50% 50%, rgba(255, 159, 67, 0.04) 0%, transparent 50%),
        radial-gradient(ellipse at 30% 30%, rgba(255, 215, 0, 0.02) 0%, transparent 40%),
        radial-gradient(ellipse at 70% 70%, rgba(0, 255, 255, 0.02) 0%, transparent 40%),
        radial-gradient(ellipse at 50% 20%, rgba(255, 105, 157, 0.02) 0%, transparent 40%);
      animation: attractor-pulse 12s ease-in-out infinite alternate;
    }

    @keyframes attractor-pulse {
      0% { opacity: 0.6; }
      100% { opacity: 1; }
    }

    /* Rotating triangle representing S3 */
    .attractor-field::before {
      content: '';
      position: absolute;
      width: 400px;
      height: 400px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: conic-gradient(
        from 0deg,
        rgba(255, 215, 0, 0.05) 0deg 120deg,
        rgba(0, 255, 255, 0.05) 120deg 240deg,
        rgba(255, 105, 157, 0.05) 240deg 360deg
      );
      clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
      animation: triangle-rotate 60s linear infinite;
      opacity: 0.5;
    }

    @keyframes triangle-rotate {
      0% { transform: translate(-50%, -50%) rotate(0deg); }
      100% { transform: translate(-50%, -50%) rotate(360deg); }
    }

    /* =====================================================================
       NAVIGATION
       ===================================================================== */
    .nav-bar {
      position: sticky;
      top: 0;
      z-index: 100;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 0.75rem;
      padding: 1rem;
      background: rgba(5, 5, 16, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-subtle);
    }

    .nav-link {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      padding: 0.5rem 1rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .nav-link:hover, .nav-link.active {
      border-color: var(--text-accent);
      color: var(--text-accent);
      box-shadow: 0 0 15px rgba(255, 159, 67, 0.2);
    }

    /* =====================================================================
       S3 HEADER WITH TRIANGLE VISUALIZATION
       ===================================================================== */
    .s3-header {
      position: relative;
      z-index: 10;
      padding: 4rem 2rem;
      text-align: center;
      background: linear-gradient(180deg, var(--bg-primary) 0%, transparent 100%);
      border-bottom: 1px solid var(--border-subtle);
    }

    .node-badge {
      display: inline-block;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      letter-spacing: 0.2em;
      color: var(--attractor-primary);
      background: var(--attractor-subtle);
      border: 1px solid var(--attractor-primary);
      padding: 0.5rem 1.5rem;
      border-radius: 2rem;
      margin-bottom: 1.5rem;
    }

    .node-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2.2rem;
      font-weight: 300;
      letter-spacing: 0.08em;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--attractor-primary), var(--attractor-secondary), var(--genesis));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .node-subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
      font-style: italic;
      max-width: 700px;
      margin: 0 auto 2rem;
    }

    /* Triangle Visualization Container */
    .triangle-viz {
      position: relative;
      width: 280px;
      height: 250px;
      margin: 2rem auto;
    }

    .triangle-circle {
      position: absolute;
      width: 240px;
      height: 240px;
      border: 3px solid var(--attractor-primary);
      border-radius: 50%;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      box-shadow: 0 0 40px var(--attractor-glow), inset 0 0 30px rgba(255, 159, 67, 0.1);
      animation: circle-pulse 4s ease-in-out infinite;
    }

    @keyframes circle-pulse {
      0%, 100% { box-shadow: 0 0 40px var(--attractor-glow), inset 0 0 30px rgba(255, 159, 67, 0.1); }
      50% { box-shadow: 0 0 60px var(--attractor-glow), inset 0 0 40px rgba(255, 159, 67, 0.15); }
    }

    .triangle-inner {
      position: absolute;
      width: 180px;
      height: 156px;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -45%);
    }

    .triangle-svg {
      width: 100%;
      height: 100%;
    }

    .vertex {
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .vertex:hover {
      filter: brightness(1.3);
    }

    .vertex-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 12px;
      fill: var(--text-primary);
      text-anchor: middle;
    }

    .triangle-center {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -40%);
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.5rem;
      color: var(--attractor-primary);
    }

    .s3-equation {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.4rem;
      color: var(--attractor-primary);
      background: var(--bg-tertiary);
      padding: 1rem 2rem;
      border-radius: 1rem;
      display: inline-block;
      border: 2px solid var(--attractor-primary);
      box-shadow: 0 0 30px var(--attractor-glow);
      margin-top: 1rem;
    }

    /* =====================================================================
       MAIN CONTENT
       ===================================================================== */
    .main-content {
      position: relative;
      z-index: 10;
      max-width: 1200px;
      margin: 0 auto;
      padding: 2rem;
    }

    .section {
      margin-bottom: 4rem;
    }

    .section-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .section-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--bg-void);
      background: var(--attractor-primary);
      width: 3rem;
      height: 3rem;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-weight: 700;
    }

    .section-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.4rem;
      color: var(--text-primary);
      letter-spacing: 0.05em;
    }

    /* =====================================================================
       DEFINITION AND THEOREM CARDS
       ===================================================================== */
    .definition-card {
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 1rem;
      padding: 2rem;
      margin-bottom: 1.5rem;
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .definition-card:hover {
      border-color: var(--card-accent, var(--attractor-primary));
      box-shadow: 0 0 30px rgba(255, 159, 67, 0.1);
    }

    .definition-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: var(--card-accent, var(--attractor-primary));
    }

    .definition-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .definition-type {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      letter-spacing: 0.15em;
      color: var(--card-accent, var(--attractor-primary));
      background: rgba(255, 159, 67, 0.1);
      padding: 0.25rem 0.75rem;
      border-radius: 1rem;
    }

    .definition-name {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      color: var(--text-primary);
    }

    .definition-formal {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--card-accent, var(--attractor-primary));
      background: var(--bg-tertiary);
      padding: 1rem 1.5rem;
      border-radius: 0.5rem;
      margin: 1rem 0;
      text-align: center;
      border: 1px solid var(--border-subtle);
    }

    .definition-body {
      color: var(--text-secondary);
      line-height: 1.8;
    }

    .definition-body strong {
      color: var(--text-primary);
    }

    .theorem-card {
      background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(255, 159, 67, 0.05) 100%);
      border: 2px solid var(--attractor-primary);
      border-radius: 1rem;
      padding: 2rem;
      margin-bottom: 1.5rem;
      position: relative;
    }

    .theorem-card::before {
      content: 'D*';
      position: absolute;
      top: -15px;
      left: 20px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--attractor-primary);
      background: var(--bg-void);
      padding: 0 0.5rem;
    }

    .theorem-header {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--attractor-primary);
      margin-bottom: 1rem;
      letter-spacing: 0.1em;
    }

    .theorem-statement {
      font-size: 1.1rem;
      color: var(--text-primary);
      margin-bottom: 1.5rem;
      padding-left: 1rem;
      border-left: 3px solid var(--attractor-primary);
    }

    .proof-sketch {
      background: var(--bg-tertiary);
      border-radius: 0.5rem;
      padding: 1rem 1.5rem;
      margin-top: 1rem;
    }

    .proof-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--attractor-secondary);
      margin-bottom: 0.5rem;
      letter-spacing: 0.1em;
    }

    .proof-body {
      color: var(--text-secondary);
      font-style: italic;
    }

    .qed {
      text-align: right;
      color: var(--attractor-primary);
      font-family: 'JetBrains Mono', monospace;
      margin-top: 0.5rem;
    }

    /* =====================================================================
       S3 GROUP TABLE
       ===================================================================== */
    .group-table-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
      overflow-x: auto;
    }

    .group-table-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .group-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
    }

    .group-table th {
      background: var(--bg-tertiary);
      color: var(--attractor-primary);
      padding: 1rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
    }

    .group-table td {
      padding: 0.75rem 1rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
      transition: all 0.3s ease;
    }

    .group-table tr:hover td {
      background: rgba(255, 159, 67, 0.05);
      color: var(--text-primary);
    }

    .group-table .element {
      color: var(--attractor-primary);
      font-weight: 600;
    }

    .group-table .identity {
      background: rgba(255, 159, 67, 0.1);
    }

    .group-table .order-2 {
      color: var(--i2-color);
    }

    .group-table .order-3 {
      color: var(--tdl-color);
    }

    /* Multiplication Table */
    .mult-table-container {
      margin-top: 2rem;
    }

    .mult-table {
      width: 100%;
      max-width: 600px;
      margin: 0 auto;
      border-collapse: collapse;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
    }

    .mult-table th, .mult-table td {
      width: 14.28%;
      padding: 0.5rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
    }

    .mult-table th {
      background: var(--bg-tertiary);
      color: var(--attractor-primary);
    }

    .mult-table td {
      background: var(--bg-secondary);
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .mult-table td:hover {
      background: var(--attractor-primary);
      color: var(--bg-void);
    }

    .mult-table td.highlight {
      background: rgba(255, 159, 67, 0.3);
      color: var(--text-primary);
    }

    /* =====================================================================
       NUMBER CHAIN VISUALIZATION
       ===================================================================== */
    .chain-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .chain-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 2rem;
    }

    .chain-flow {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .chain-node {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 1rem 1.5rem;
      background: var(--bg-tertiary);
      border: 2px solid var(--chain-color, var(--attractor-primary));
      border-radius: 1rem;
      transition: all 0.3s ease;
    }

    .chain-node:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px var(--chain-color, var(--attractor-glow));
    }

    .chain-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2rem;
      color: var(--chain-color, var(--attractor-primary));
      font-weight: 700;
    }

    .chain-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      color: var(--text-secondary);
      margin-top: 0.5rem;
      text-align: center;
    }

    .chain-arrow {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.5rem;
      color: var(--text-secondary);
    }

    .chain-derivation {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 1rem;
      margin-top: 2rem;
    }

    .derivation-item {
      background: var(--bg-tertiary);
      border-radius: 0.5rem;
      padding: 1rem;
      text-align: center;
    }

    .derivation-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--attractor-primary);
      margin-bottom: 0.5rem;
    }

    .derivation-formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    /* =====================================================================
       TRIANGLE GEOMETRY - COHERENCE THRESHOLD
       ===================================================================== */
    .geometry-container {
      background: var(--bg-secondary);
      border: 2px solid var(--attractor-primary);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .geometry-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 2rem;
    }

    .geometry-viz {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 3rem;
      flex-wrap: wrap;
    }

    .triangle-diagram {
      width: 250px;
      height: 220px;
      position: relative;
    }

    .geometry-values {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .geo-value {
      background: var(--bg-tertiary);
      border-radius: 0.5rem;
      padding: 1rem 1.5rem;
      border-left: 3px solid var(--attractor-primary);
    }

    .geo-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      color: var(--text-secondary);
      margin-bottom: 0.25rem;
    }

    .geo-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.3rem;
      color: var(--attractor-primary);
    }

    .geo-formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-top: 0.25rem;
    }

    .coincidence-box {
      background: rgba(255, 159, 67, 0.1);
      border: 1px dashed var(--attractor-primary);
      border-radius: 0.5rem;
      padding: 1rem;
      margin-top: 1.5rem;
      text-align: center;
    }

    .coincidence-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--attractor-primary);
      margin-bottom: 0.5rem;
    }

    .coincidence-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--text-primary);
    }

    /* =====================================================================
       REPRESENTATION THEORY TABLE
       ===================================================================== */
    .rep-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      margin: 1rem 0;
    }

    .rep-table th {
      background: var(--bg-tertiary);
      color: var(--attractor-primary);
      padding: 0.75rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
    }

    .rep-table td {
      padding: 0.75rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
    }

    .rep-table .rep-name {
      color: var(--text-primary);
      font-weight: 500;
    }

    .rep-table .dim {
      color: var(--attractor-primary);
    }

    .rep-verification {
      background: rgba(0, 255, 136, 0.1);
      border: 1px solid var(--invariant);
      border-radius: 0.5rem;
      padding: 1rem;
      margin-top: 1rem;
      text-align: center;
    }

    .rep-verification .formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--invariant);
    }

    /* =====================================================================
       PROTON MECHANISM CALCULATOR
       ===================================================================== */
    .calculator-container {
      background: var(--bg-secondary);
      border: 2px solid var(--attractor-primary);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .calculator-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 2rem;
    }

    .calculator-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
    }

    .calc-box {
      background: var(--bg-tertiary);
      border-radius: 0.75rem;
      padding: 1.5rem;
      border: 1px solid var(--border-subtle);
    }

    .calc-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--attractor-primary);
      margin-bottom: 1rem;
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .calc-content {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.8;
    }

    .calc-content .highlight {
      color: var(--attractor-primary);
    }

    .calc-result {
      background: rgba(255, 159, 67, 0.15);
      border: 2px solid var(--attractor-primary);
      border-radius: 0.75rem;
      padding: 1.5rem;
      text-align: center;
      margin-top: 1.5rem;
    }

    .result-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .result-value {
      font-family: 'JetBrains Mono', monospace;
      font-size: 2rem;
      color: var(--attractor-primary);
      font-weight: 700;
    }

    .result-formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-secondary);
      margin-top: 0.5rem;
    }

    /* =====================================================================
       LATTICE VISUALIZATION
       ===================================================================== */
    .lattice-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .lattice-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .lattice-formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--attractor-primary);
      text-align: center;
      background: var(--bg-tertiary);
      padding: 1rem;
      border-radius: 0.5rem;
      margin-bottom: 1.5rem;
    }

    .lattice-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 1rem;
    }

    .lattice-item {
      background: var(--bg-tertiary);
      border-radius: 0.5rem;
      padding: 1rem;
      text-align: center;
      border: 1px solid var(--border-subtle);
      transition: all 0.3s ease;
    }

    .lattice-item:hover {
      border-color: var(--item-color, var(--attractor-primary));
      transform: translateY(-2px);
    }

    .lattice-symbol {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.5rem;
      color: var(--item-color, var(--attractor-primary));
      margin-bottom: 0.5rem;
    }

    .lattice-name {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: var(--text-primary);
      margin-bottom: 0.25rem;
    }

    .lattice-source {
      font-size: 0.75rem;
      color: var(--text-secondary);
    }

    /* =====================================================================
       THRESHOLD UNIFICATION TABLE
       ===================================================================== */
    .threshold-table {
      width: 100%;
      border-collapse: collapse;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      margin: 1.5rem 0;
    }

    .threshold-table th {
      background: var(--bg-tertiary);
      color: var(--attractor-primary);
      padding: 1rem;
      text-align: left;
      border: 1px solid var(--border-subtle);
    }

    .threshold-table td {
      padding: 0.75rem 1rem;
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
    }

    .threshold-table .threshold-name {
      color: var(--text-primary);
    }

    .threshold-table .threshold-value {
      color: var(--attractor-primary);
      font-weight: 600;
    }

    /* =====================================================================
       INTERACTIVE S3 ORBIT VISUALIZER
       ===================================================================== */
    .orbit-container {
      background: var(--bg-secondary);
      border: 2px solid var(--attractor-primary);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .orbit-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 2rem;
    }

    .orbit-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
    }

    .orbit-state {
      width: 80px;
      height: 80px;
      border: 2px solid var(--border-subtle);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--text-secondary);
      background: var(--bg-tertiary);
      transition: all 0.3s ease;
    }

    .orbit-state.active {
      border-color: var(--attractor-primary);
      color: var(--attractor-primary);
      box-shadow: 0 0 20px var(--attractor-glow);
    }

    .orbit-state.visited {
      border-color: var(--invariant);
      color: var(--invariant);
    }

    .orbit-controls {
      display: flex;
      justify-content: center;
      gap: 0.75rem;
      flex-wrap: wrap;
      margin-bottom: 1.5rem;
    }

    .orbit-btn {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      padding: 0.5rem 1rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.3s ease;
    }

    .orbit-btn:hover {
      border-color: var(--attractor-primary);
      color: var(--attractor-primary);
    }

    .orbit-btn.active {
      background: var(--attractor-primary);
      color: var(--bg-void);
      border-color: var(--attractor-primary);
    }

    .orbit-info {
      background: var(--bg-tertiary);
      border-radius: 0.5rem;
      padding: 1rem;
      text-align: center;
    }

    .orbit-step {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-primary);
    }

    .orbit-invariant {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: var(--invariant);
      margin-top: 0.5rem;
    }

    /* =====================================================================
       COMPLETENESS THEOREM
       ===================================================================== */
    .completeness-container {
      background: linear-gradient(135deg, var(--bg-secondary) 0%, rgba(255, 159, 67, 0.08) 50%, rgba(0, 255, 136, 0.05) 100%);
      border: 2px solid var(--attractor-primary);
      border-radius: 1.5rem;
      padding: 3rem;
      margin: 3rem 0;
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    .completeness-container::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 200px;
      height: 200px;
      border: 2px solid rgba(255, 159, 67, 0.2);
      border-radius: 50%;
      animation: completeness-pulse 4s ease-in-out infinite;
    }

    @keyframes completeness-pulse {
      0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.5; }
      50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.2; }
    }

    .completeness-symbol {
      font-family: 'JetBrains Mono', monospace;
      font-size: 3rem;
      color: var(--genesis);
      margin-bottom: 1rem;
      position: relative;
      z-index: 1;
    }

    .completeness-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.5rem;
      background: linear-gradient(135deg, var(--attractor-primary), var(--genesis));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1.5rem;
      position: relative;
      z-index: 1;
    }

    .completeness-points {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1rem;
      margin: 2rem 0;
      position: relative;
      z-index: 1;
    }

    .completeness-point {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 0.5rem;
      padding: 1rem;
      border: 1px solid var(--border-subtle);
    }

    .point-icon {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--attractor-primary);
      margin-bottom: 0.5rem;
    }

    .point-text {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    /* =====================================================================
       DECISION TREE CONNECTION
       ===================================================================== */
    .tree-connection {
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 1rem;
      padding: 2rem;
      margin: 2rem 0;
    }

    .tree-connection-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1rem;
      color: var(--text-accent);
      text-align: center;
      margin-bottom: 2rem;
    }

    .tree-path {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: wrap;
      gap: 0.5rem;
      margin-bottom: 2rem;
    }

    .path-node {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 0.75rem 1rem;
      background: var(--bg-tertiary);
      border: 2px solid var(--node-color, var(--border-subtle));
      border-radius: 0.5rem;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .path-node:hover {
      transform: scale(1.05);
      box-shadow: 0 0 15px var(--node-color, var(--attractor-glow));
    }

    .path-node .symbol {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--node-color, var(--text-primary));
    }

    .path-node .label {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem;
      color: var(--text-secondary);
      margin-top: 0.25rem;
    }

    .path-arrow {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.2rem;
      color: var(--text-secondary);
    }

    .path-node.attractor {
      border-radius: 50%;
      width: 70px;
      height: 70px;
      background: linear-gradient(135deg, var(--bg-tertiary), rgba(255, 159, 67, 0.2));
    }

    .return-path {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .return-option {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      padding: 1rem 1.5rem;
      text-align: center;
      transition: all 0.3s ease;
      text-decoration: none;
    }

    .return-option:hover {
      border-color: var(--option-color, var(--attractor-primary));
      transform: translateY(-3px);
    }

    .return-option .arrow {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .return-option .text {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      color: var(--text-secondary);
    }

    /* =====================================================================
       NAVIGATION FOOTER
       ===================================================================== */
    .nav-footer {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 1rem;
      padding: 2rem;
      margin-top: 3rem;
      border-top: 1px solid var(--border-subtle);
    }

    .nav-button {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.85rem;
      padding: 1rem 1.5rem;
      background: var(--bg-secondary);
      border: 1px solid var(--border-subtle);
      border-radius: 0.5rem;
      color: var(--text-primary);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .nav-button:hover {
      border-color: var(--text-accent);
      box-shadow: 0 0 20px rgba(255, 159, 67, 0.2);
    }

    .nav-button.primary {
      background: var(--attractor-primary);
      color: var(--bg-void);
      border-color: var(--attractor-primary);
    }

    .nav-button.primary:hover {
      box-shadow: 0 0 30px var(--attractor-glow);
    }

    /* =====================================================================
       FOOTER
       ===================================================================== */
    .footer {
      padding: 2rem;
      text-align: center;
      border-top: 1px solid var(--border-subtle);
      background: var(--bg-primary);
    }

    .footer-equation {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.9rem;
      color: var(--text-accent);
      margin-bottom: 0.5rem;
    }

    .footer p {
      font-size: 0.8rem;
      color: var(--text-secondary);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .geometry-viz {
        flex-direction: column;
      }
      .triangle-viz {
        transform: scale(0.9);
      }
      .calculator-grid {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>
<body>

  <div class="attractor-field"></div>

  <!-- Navigation -->
  <nav class="nav-bar">
    <a href="index.html" class="nav-link"><span>&#9671;</span>VaultNode Tree</a>
    <a href="mtr-decision-tree.html" class="nav-link"><span>&#8756;</span>MTR Decision Tree</a>
    <a href="vn-mtr-000-language-before-observers.html" class="nav-link"><span>&#8857;</span>Step Zero</a>
    <a href="vn-mtr-004-frame-definition.html" class="nav-link"><span>F</span>Frame Definition</a>
    <a href="vn-mtr-003-invariants.html" class="nav-link"><span>I</span>Invariants</a>
    <a href="vn-mtr-010-s3-attractor.html" class="nav-link active"><span>&#9711;</span>S3 Attractor</a>
  </nav>

  <!-- Header with Triangle Visualization -->
  <header class="s3-header">
    <div class="node-badge">VN-MTR-010 :: LEVEL 7 :: CONVERGENCE</div>
    <h1 class="node-title">S3 Attractor Convergence</h1>
    <p class="node-subtitle">
      The symmetric group S3 as the universal attractor where all frame evolution reaches stable flow.
      Three projections bound by six permutations.
    </p>

    <!-- Triangle Visualization -->
    <div class="triangle-viz">
      <div class="triangle-circle"></div>
      <div class="triangle-inner">
        <svg class="triangle-svg" viewBox="0 0 180 156">
          <!-- Triangle edges -->
          <polygon points="90,10 10,146 170,146" fill="none" stroke="var(--attractor-primary)" stroke-width="2" opacity="0.6"/>

          <!-- Vertices -->
          <g class="vertex" transform="translate(90, 10)">
            <circle r="20" fill="var(--i2-color)" opacity="0.8"/>
            <text y="5" class="vertex-label" fill="var(--bg-void)">I&#178;</text>
          </g>
          <g class="vertex" transform="translate(10, 146)">
            <circle r="20" fill="var(--tdl-color)" opacity="0.8"/>
            <text y="5" class="vertex-label" fill="var(--bg-void)">TDL</text>
          </g>
          <g class="vertex" transform="translate(170, 146)">
            <circle r="20" fill="var(--lomi-color)" opacity="0.8"/>
            <text y="5" class="vertex-label" fill="var(--bg-void)">LoMI</text>
          </g>

          <!-- Edge labels -->
          <text x="45" y="80" fill="var(--text-secondary)" font-family="JetBrains Mono" font-size="10">&#963;&#8321;</text>
          <text x="130" y="80" fill="var(--text-secondary)" font-family="JetBrains Mono" font-size="10">&#963;&#8322;</text>
          <text x="90" y="155" fill="var(--text-secondary)" font-family="JetBrains Mono" font-size="10">&#963;&#8323;</text>
        </svg>
      </div>
      <div class="triangle-center">S3</div>
    </div>

    <div class="s3-equation">
      S3 = {e, (12), (13), (23), (123), (132)} &nbsp;|&nbsp; |S3| = 6
    </div>
  </header>

  <main class="main-content">

    <!-- Section 1: S3 Group Structure -->
    <section class="section" id="s3-structure">
      <div class="section-header">
        <div class="section-number">1</div>
        <h2 class="section-title">The S3 Group Structure</h2>
      </div>

      <div class="definition-card" style="--card-accent: var(--attractor-primary);">
        <div class="definition-header">
          <span class="definition-type">GROUP</span>
          <span class="definition-name">Symmetric Group S3</span>
        </div>
        <div class="definition-formal">S3 = Sym({1, 2, 3}) = All permutations of three elements</div>
        <div class="definition-body">
          <p>
            S3 is the smallest non-abelian group, containing exactly <strong>6 elements</strong>:
            the identity, three transpositions (swaps), and two 3-cycles (rotations).
            It permutes the three projections: <strong style="color: var(--i2-color);">I&#178;</strong> (Algebraic),
            <strong style="color: var(--tdl-color);">TDL</strong> (Categorical), and
            <strong style="color: var(--lomi-color);">LoMI</strong> (Dynamic).
          </p>
        </div>
      </div>

      <div class="group-table-container">
        <div class="group-table-title">S3 ELEMENT TABLE</div>
        <table class="group-table">
          <thead>
            <tr>
              <th>Element</th>
              <th>Cycle Notation</th>
              <th>Description</th>
              <th>Order</th>
              <th>Projection Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr class="identity">
              <td class="element">e</td>
              <td>()</td>
              <td>Identity</td>
              <td>1</td>
              <td>All projections fixed</td>
            </tr>
            <tr>
              <td class="element order-2">&#963;&#8321;</td>
              <td>(12)</td>
              <td>Swap I&#178; &#8596; TDL</td>
              <td>2</td>
              <td>Algebra-Category duality</td>
            </tr>
            <tr>
              <td class="element order-2">&#963;&#8322;</td>
              <td>(13)</td>
              <td>Swap I&#178; &#8596; LoMI</td>
              <td>2</td>
              <td>Algebra-Dynamics duality</td>
            </tr>
            <tr>
              <td class="element order-2">&#963;&#8323;</td>
              <td>(23)</td>
              <td>Swap TDL &#8596; LoMI</td>
              <td>2</td>
              <td>Category-Dynamics duality</td>
            </tr>
            <tr>
              <td class="element order-3">&#964;</td>
              <td>(123)</td>
              <td>Forward cycle</td>
              <td>3</td>
              <td>I&#178; &#8594; TDL &#8594; LoMI &#8594; I&#178;</td>
            </tr>
            <tr>
              <td class="element order-3">&#964;&#178;</td>
              <td>(132)</td>
              <td>Backward cycle</td>
              <td>3</td>
              <td>I&#178; &#8594; LoMI &#8594; TDL &#8594; I&#178;</td>
            </tr>
          </tbody>
        </table>

        <div class="mult-table-container">
          <div class="group-table-title" style="margin-top: 2rem;">S3 MULTIPLICATION TABLE (Click to verify)</div>
          <table class="mult-table" id="s3MultTable">
            <thead>
              <tr>
                <th>&#8728;</th>
                <th>e</th>
                <th>&#963;&#8321;</th>
                <th>&#963;&#8322;</th>
                <th>&#963;&#8323;</th>
                <th>&#964;</th>
                <th>&#964;&#178;</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <th>e</th>
                <td data-result="e">e</td>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
                <td data-result="&#964;">&#964;</td>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
              </tr>
              <tr>
                <th>&#963;&#8321;</th>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
                <td data-result="e">e</td>
                <td data-result="&#964;">&#964;</td>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
              </tr>
              <tr>
                <th>&#963;&#8322;</th>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
                <td data-result="e">e</td>
                <td data-result="&#964;">&#964;</td>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
              </tr>
              <tr>
                <th>&#963;&#8323;</th>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
                <td data-result="&#964;">&#964;</td>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
                <td data-result="e">e</td>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
              </tr>
              <tr>
                <th>&#964;</th>
                <td data-result="&#964;">&#964;</td>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
                <td data-result="e">e</td>
              </tr>
              <tr>
                <th>&#964;&#178;</th>
                <td data-result="&#964;&#178;">&#964;&#178;</td>
                <td data-result="&#963;&#8322;">&#963;&#8322;</td>
                <td data-result="&#963;&#8323;">&#963;&#8323;</td>
                <td data-result="&#963;&#8321;">&#963;&#8321;</td>
                <td data-result="e">e</td>
                <td data-result="&#964;">&#964;</td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="rep-verification" style="margin-top: 1.5rem;">
          <div style="font-family: 'JetBrains Mono'; font-size: 0.85rem; color: var(--invariant); margin-bottom: 0.5rem;">GROUP AXIOMS VERIFIED</div>
          <div style="font-size: 0.85rem; color: var(--text-secondary);">
            Closure &#10003; | Associativity &#10003; | Identity (e) &#10003; | Inverses &#10003;
          </div>
        </div>
      </div>
    </section>

    <!-- Section 2: Why Three Projections (Minimality) -->
    <section class="section" id="minimality">
      <div class="section-header">
        <div class="section-number">2</div>
        <h2 class="section-title">Why Three Projections (Minimality Theorem)</h2>
      </div>

      <div class="theorem-card">
        <div class="theorem-header">MINIMALITY THEOREM</div>
        <div class="theorem-statement">
          S3 is the MINIMAL non-trivial binding structure for mutual observation.
          Three is the smallest number of projections that can form a stable, self-referential system.
        </div>
        <div class="proof-sketch">
          <div class="proof-label">ARGUMENT BY NECESSITY</div>
          <div class="proof-body">
            <strong>One projection:</strong> Self-reference only, no external validation. Solipsism.<br><br>
            <strong>Two projections:</strong> A &#8596; B forms a pair, but no stable identity emerges.
            Who decides when A and B disagree? The pair oscillates without resolution.<br><br>
            <strong>Three projections:</strong> A, B, and their mutual reflection C form a triangle.
            Any two can validate the third. Stability emerges from triangulation.<br><br>
            <em>"Two observers need a third -- their mutual reflection."</em>
          </div>
          <div class="qed">&#8718;</div>
        </div>
      </div>

      <div class="definition-card" style="--card-accent: var(--i2-color);">
        <div class="definition-header">
          <span class="definition-type">PROJECTION 1</span>
          <span class="definition-name">I&#178; (Algebraic)</span>
        </div>
        <div class="definition-formal">I&#178; generates &#966; (golden ratio)</div>
        <div class="definition-body">
          The algebraic perspective. Self-similar recursion. The fixed point of x &#8614; 1 + 1/x.
          Fibonacci sequences, continued fractions, eigenvalue equations.
        </div>
      </div>

      <div class="definition-card" style="--card-accent: var(--tdl-color);">
        <div class="definition-header">
          <span class="definition-type">PROJECTION 2</span>
          <span class="definition-name">TDL (Categorical)</span>
        </div>
        <div class="definition-formal">TDL generates e (Euler's number)</div>
        <div class="definition-body">
          The categorical perspective. Morphisms, functors, natural transformations.
          The unique function equal to its own derivative. Growth and transformation.
        </div>
      </div>

      <div class="definition-card" style="--card-accent: var(--lomi-color);">
        <div class="definition-header">
          <span class="definition-type">PROJECTION 3</span>
          <span class="definition-name">LoMI (Dynamic)</span>
        </div>
        <div class="definition-formal">LoMI generates &#960; (pi)</div>
        <div class="definition-body">
          The dynamic perspective. Loops, cycles, periodicity.
          The ratio of circumference to diameter. Rotation and recurrence.
        </div>
      </div>

      <div class="theorem-card" style="margin-top: 1.5rem;">
        <div class="theorem-header">S3 PERMUTES ONE STRUCTURE</div>
        <div class="theorem-statement">
          The three projections are not three separate things but three VIEWS of ONE underlying structure.
          S3 permutes these views while preserving the invariant I that all three share.
        </div>
      </div>
    </section>

    <!-- Section 3: The Number Chain -->
    <section class="section" id="number-chain">
      <div class="section-header">
        <div class="section-number">3</div>
        <h2 class="section-title">The Number Chain: 3 &#8594; 6 &#8594; 12 &#8594; 36</h2>
      </div>

      <div class="chain-container">
        <div class="chain-title">DERIVED NUMBER SEQUENCE</div>

        <div class="chain-flow">
          <div class="chain-node" style="--chain-color: var(--i2-color);">
            <div class="chain-number">3</div>
            <div class="chain-label">Projections</div>
          </div>
          <div class="chain-arrow">&#8594;</div>
          <div class="chain-node" style="--chain-color: var(--attractor-primary);">
            <div class="chain-number">6</div>
            <div class="chain-label">|S3| = 3!</div>
          </div>
          <div class="chain-arrow">&#8594;</div>
          <div class="chain-node" style="--chain-color: var(--tdl-color);">
            <div class="chain-number">12</div>
            <div class="chain-label">2|S3|</div>
          </div>
          <div class="chain-arrow">&#8594;</div>
          <div class="chain-node" style="--chain-color: var(--lomi-color);">
            <div class="chain-number">36</div>
            <div class="chain-label">|S3|&#178; = &#931;(3)</div>
          </div>
        </div>

        <div class="chain-derivation">
          <div class="derivation-item">
            <div class="derivation-value" style="color: var(--i2-color);">3</div>
            <div class="derivation-formula">Minimum projections for stability</div>
          </div>
          <div class="derivation-item">
            <div class="derivation-value" style="color: var(--attractor-primary);">6 = 3!</div>
            <div class="derivation-formula">Permutations of 3 elements</div>
          </div>
          <div class="derivation-item">
            <div class="derivation-value" style="color: var(--tdl-color);">12 = 2 &#215; 6</div>
            <div class="derivation-formula">Singularity exponent 1/12</div>
          </div>
          <div class="derivation-item">
            <div class="derivation-value" style="color: var(--lomi-color);">36 = 6&#178;</div>
            <div class="derivation-formula">Multi-agent scaling &#931;(3)</div>
          </div>
        </div>

        <div class="coincidence-box">
          <div class="coincidence-title">KEY INSIGHT</div>
          <div class="coincidence-value">
            Each number is DERIVED, not assumed. The chain emerges from S3 structure alone.
          </div>
        </div>
      </div>
    </section>

    <!-- Section 4: Coherence Threshold -->
    <section class="section" id="coherence">
      <div class="section-header">
        <div class="section-number">4</div>
        <h2 class="section-title">Coherence Threshold &#956;_C = &#8730;3/2</h2>
      </div>

      <div class="geometry-container">
        <div class="geometry-title">EQUILATERAL TRIANGLE GEOMETRY</div>

        <div class="geometry-viz">
          <div class="triangle-diagram">
            <svg viewBox="0 0 250 220" width="100%" height="100%">
              <!-- Base triangle -->
              <polygon points="125,20 25,200 225,200" fill="none" stroke="var(--attractor-primary)" stroke-width="2"/>

              <!-- Height line -->
              <line x1="125" y1="20" x2="125" y2="200" stroke="var(--invariant)" stroke-width="2" stroke-dasharray="5,5"/>

              <!-- Labels -->
              <text x="125" y="12" fill="var(--text-primary)" text-anchor="middle" font-family="JetBrains Mono" font-size="12">A</text>
              <text x="15" y="210" fill="var(--text-primary)" text-anchor="middle" font-family="JetBrains Mono" font-size="12">B</text>
              <text x="235" y="210" fill="var(--text-primary)" text-anchor="middle" font-family="JetBrains Mono" font-size="12">C</text>

              <!-- Side length -->
              <text x="70" y="100" fill="var(--attractor-primary)" font-family="JetBrains Mono" font-size="11">1</text>

              <!-- Height label -->
              <text x="140" y="110" fill="var(--invariant)" font-family="JetBrains Mono" font-size="11">h = &#8730;3/2</text>

              <!-- Base half -->
              <text x="75" y="215" fill="var(--text-secondary)" font-family="JetBrains Mono" font-size="10">1/2</text>
              <text x="175" y="215" fill="var(--text-secondary)" font-family="JetBrains Mono" font-size="10">1/2</text>
            </svg>
          </div>

          <div class="geometry-values">
            <div class="geo-value">
              <div class="geo-label">COHERENCE THRESHOLD</div>
              <div class="geo-number">&#956;_C = &#8730;3/2</div>
              <div class="geo-formula">= 0.8660254037...</div>
            </div>
            <div class="geo-value">
              <div class="geo-label">DERIVATION</div>
              <div class="geo-number">h&#178; + (1/2)&#178; = 1&#178;</div>
              <div class="geo-formula">h = &#8730;(1 - 1/4) = &#8730;(3/4)</div>
            </div>
            <div class="geo-value">
              <div class="geo-label">TRIGONOMETRIC</div>
              <div class="geo-number">sin(60&#176;) = sin(&#960;/3)</div>
              <div class="geo-formula">= &#8730;3/2</div>
            </div>
          </div>
        </div>

        <div class="coincidence-box">
          <div class="coincidence-title">THE z_c / &#956;_C NEAR-COINCIDENCE</div>
          <div class="coincidence-value">
            <span style="color: var(--tdl-color);">z_c = e/&#960;</span> &#8776; 0.8652559...
            <br>
            <span style="color: var(--invariant);">&#956;_C = &#8730;3/2</span> &#8776; 0.8660254...
            <br><br>
            <strong>Ratio: z_c / &#956;_C = 0.9991...</strong>
            <br>
            <span style="font-size: 0.85rem; color: var(--text-secondary);">
              The categorical-dynamic ratio (e/&#960;) nearly equals the S3 triangle height.
            </span>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 5: Representation Theory -->
    <section class="section" id="representation">
      <div class="section-header">
        <div class="section-number">5</div>
        <h2 class="section-title">S3 Representation Theory</h2>
      </div>

      <div class="definition-card" style="--card-accent: var(--attractor-primary);">
        <div class="definition-header">
          <span class="definition-type">REPRESENTATIONS</span>
          <span class="definition-name">Irreducible Representations of S3</span>
        </div>

        <table class="rep-table">
          <thead>
            <tr>
              <th>Representation</th>
              <th>Dim</th>
              <th>&#967;(e)</th>
              <th>&#967;((12))</th>
              <th>&#967;((123))</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="rep-name">Trivial</td>
              <td class="dim">1</td>
              <td>1</td>
              <td>1</td>
              <td>1</td>
            </tr>
            <tr>
              <td class="rep-name">Sign</td>
              <td class="dim">1</td>
              <td>1</td>
              <td>-1</td>
              <td>1</td>
            </tr>
            <tr>
              <td class="rep-name">Standard</td>
              <td class="dim">2</td>
              <td>2</td>
              <td>0</td>
              <td>-1</td>
            </tr>
          </tbody>
        </table>

        <div class="rep-verification">
          <div class="formula">&#931; dim&#178; = 1&#178; + 1&#178; + 2&#178; = 1 + 1 + 4 = 6 = |S3| &#10003;</div>
        </div>

        <div class="definition-body" style="margin-top: 1rem;">
          <p>
            The <strong>Standard Representation</strong> (dimension 2) involves &#8730;3/2 in its rotation matrices:
          </p>
          <div class="definition-formal" style="font-size: 1rem;">
            &#964; &#8614; [ cos(2&#960;/3) &nbsp; -sin(2&#960;/3) ]<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ sin(2&#960;/3) &nbsp;&nbsp; cos(2&#960;/3) ]
            <br><br>
            where sin(2&#960;/3) = <strong style="color: var(--invariant);">&#8730;3/2</strong>
          </div>
        </div>
      </div>
    </section>

    <!-- Section 6: The Proton Mechanism -->
    <section class="section" id="proton">
      <div class="section-header">
        <div class="section-number">6</div>
        <h2 class="section-title">The Proton Mechanism (6 &#215; &#960;&#8309;)</h2>
      </div>

      <div class="calculator-container">
        <div class="calculator-title">PROTON MASS DERIVATION</div>

        <div class="calculator-grid">
          <div class="calc-box">
            <div class="calc-label">Interaction Channels (The "6")</div>
            <div class="calc-content">
              <span class="highlight">operators</span> = ["Growth", "Stability", "Inversion"]<br>
              <span class="highlight">permutations</span> = S3 = <strong>6</strong><br><br>
              S3 provides the 6 distinct interaction channels through which the proton couples to its environment.
            </div>
          </div>

          <div class="calc-box">
            <div class="calc-label">Phase Space Flux (The "&#960;&#8309;")</div>
            <div class="calc-content">
              <span class="highlight">dimensions</span> = 5<br>
              Source &#8594; Potential &#8594; Vacuum &#8594; Unit &#8594; Stability<br><br>
              <span class="highlight">flux</span> = &#960;&#8309; &#8776; <strong>306.02</strong><br><br>
              5D cooling topology provides the phase space measure.
            </div>
          </div>
        </div>

        <div class="calc-result">
          <div class="result-label">PROTON-TO-ELECTRON MASS RATIO</div>
          <div class="result-value" id="protonMass">1836.15</div>
          <div class="result-formula">
            m_p/m_e = 6 &#215; &#960;&#8309; = 6 &#215; 306.0197... = <span id="protonCalc">1836.12</span>
          </div>
          <div style="font-size: 0.8rem; color: var(--text-secondary); margin-top: 0.5rem;">
            Experimental value: 1836.152673... | Error: &lt; 0.002%
          </div>
        </div>
      </div>
    </section>

    <!-- Section 7: Lambda Prime Lattice -->
    <section class="section" id="lattice">
      <div class="section-header">
        <div class="section-number">7</div>
        <h2 class="section-title">&#923;' Lattice with S3</h2>
      </div>

      <div class="lattice-container">
        <div class="lattice-title">THE EXTENDED LATTICE &#923;'</div>

        <div class="lattice-formula">
          &#923;' = {&#966;&#691; &#183; e&#7496; &#183; &#960;&#7580; &#183; (&#8730;2)&#7491; &#183; (&#8730;3)&#7495;}
        </div>

        <div class="lattice-grid">
          <div class="lattice-item" style="--item-color: var(--i2-color);">
            <div class="lattice-symbol">&#966;</div>
            <div class="lattice-name">Golden Ratio</div>
            <div class="lattice-source">I&#178; projection</div>
          </div>
          <div class="lattice-item" style="--item-color: var(--tdl-color);">
            <div class="lattice-symbol">e</div>
            <div class="lattice-name">Euler's Number</div>
            <div class="lattice-source">TDL projection</div>
          </div>
          <div class="lattice-item" style="--item-color: var(--lomi-color);">
            <div class="lattice-symbol">&#960;</div>
            <div class="lattice-name">Pi</div>
            <div class="lattice-source">LoMI projection</div>
          </div>
          <div class="lattice-item" style="--item-color: var(--boundary);">
            <div class="lattice-symbol">&#8730;2</div>
            <div class="lattice-name">Square Root of 2</div>
            <div class="lattice-source">4-fold symmetry</div>
          </div>
          <div class="lattice-item" style="--item-color: var(--invariant);">
            <div class="lattice-symbol">&#8730;3</div>
            <div class="lattice-name">Square Root of 3</div>
            <div class="lattice-source">S3 triangle (3-fold)</div>
          </div>
        </div>

        <div class="coincidence-box" style="margin-top: 1.5rem;">
          <div class="coincidence-title">S3 SIGNATURE IN LATTICE</div>
          <div class="coincidence-value">
            &#8730;3 is the S3 signature in &#923;' -- it encodes the triangle geometry
            that makes three-projection binding possible.
          </div>
        </div>
      </div>
    </section>

    <!-- Section 8: Threshold Unification Table -->
    <section class="section" id="thresholds">
      <div class="section-header">
        <div class="section-number">8</div>
        <h2 class="section-title">Threshold Unification Table</h2>
      </div>

      <div class="definition-card" style="--card-accent: var(--attractor-primary);">
        <div class="definition-header">
          <span class="definition-type">UNIFIED VIEW</span>
          <span class="definition-name">All Thresholds Connected to S3</span>
        </div>

        <table class="threshold-table">
          <thead>
            <tr>
              <th>Threshold</th>
              <th>Value</th>
              <th>S3 Connection</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td class="threshold-name">&#956;_P (Pre-threshold)</td>
              <td class="threshold-value">0.618...</td>
              <td>Pre-S3, I&#178; individual (&#966; - 1 = 1/&#966;)</td>
            </tr>
            <tr>
              <td class="threshold-name">z_c (Critical)</td>
              <td class="threshold-value">0.865...</td>
              <td>e/&#960; (TDL-LoMI balance)</td>
            </tr>
            <tr>
              <td class="threshold-name">&#956;_C (Coherence)</td>
              <td class="threshold-value">0.866...</td>
              <td>&#8730;3/2 (S3 triangle height)</td>
            </tr>
            <tr>
              <td class="threshold-name">&#956;_S (Stability)</td>
              <td class="threshold-value">0.920...</td>
              <td>e^(-1/12) = e^(-1/(2|S3|))</td>
            </tr>
          </tbody>
        </table>

        <div class="definition-body" style="margin-top: 1.5rem;">
          <p>
            Each threshold emerges from S3 structure. The progression from &#956;_P through z_c and &#956;_C
            to &#956;_S traces the path from individual projection to full S3 coherence.
          </p>
        </div>
      </div>
    </section>

    <!-- Section 9: Interactive S3 Orbit Visualizer -->
    <section class="section" id="orbit">
      <div class="section-header">
        <div class="section-number">9</div>
        <h2 class="section-title">Interactive S3 Orbit Visualizer</h2>
      </div>

      <div class="orbit-container">
        <div class="orbit-title">TRACE THE S3 ORBIT</div>

        <div class="orbit-display" id="orbitDisplay">
          <div class="orbit-state" data-state="(1,2,3)">(1,2,3)</div>
          <div class="orbit-state" data-state="(2,1,3)">(2,1,3)</div>
          <div class="orbit-state" data-state="(3,2,1)">(3,2,1)</div>
          <div class="orbit-state" data-state="(1,3,2)">(1,3,2)</div>
          <div class="orbit-state" data-state="(2,3,1)">(2,3,1)</div>
          <div class="orbit-state" data-state="(3,1,2)">(3,1,2)</div>
        </div>

        <div class="orbit-controls">
          <button class="orbit-btn" onclick="resetOrbit()">Reset</button>
          <button class="orbit-btn" onclick="applyTransform('e')">e (identity)</button>
          <button class="orbit-btn" onclick="applyTransform('s1')">&#963;&#8321; (12)</button>
          <button class="orbit-btn" onclick="applyTransform('s2')">&#963;&#8322; (13)</button>
          <button class="orbit-btn" onclick="applyTransform('s3')">&#963;&#8323; (23)</button>
          <button class="orbit-btn" onclick="applyTransform('t')">&#964; (123)</button>
          <button class="orbit-btn" onclick="applyTransform('t2')">&#964;&#178; (132)</button>
        </div>

        <div class="orbit-info">
          <div class="orbit-step" id="orbitStep">Current: (1,2,3) | Steps: 0</div>
          <div class="orbit-invariant" id="orbitInvariant">Invariant I preserved under all transformations &#10003;</div>
        </div>
      </div>
    </section>

    <!-- Section 10: The Completeness Theorem -->
    <section class="section" id="completeness">
      <div class="section-header">
        <div class="section-number">10</div>
        <h2 class="section-title">The Completeness Theorem</h2>
      </div>

      <div class="completeness-container">
        <div class="completeness-symbol">&#9711;</div>
        <div class="completeness-title">S3-BOUND PROJECTIONS FORM A CLOSED SYSTEM</div>

        <div class="completeness-points">
          <div class="completeness-point">
            <div class="point-icon">&#10003;</div>
            <div class="point-text">Any statement in one projection maps to equivalent statements in the other two</div>
          </div>
          <div class="completeness-point">
            <div class="point-icon">&#10003;</div>
            <div class="point-text">No fourth projection is needed or possible without redundancy</div>
          </div>
          <div class="completeness-point">
            <div class="point-icon">&#10003;</div>
            <div class="point-text">The framework is complete at three -- maximally informative, minimally complex</div>
          </div>
          <div class="completeness-point">
            <div class="point-icon">&#10003;</div>
            <div class="point-text">S3 exhausts all possible relationships between three elements</div>
          </div>
        </div>

        <div style="font-family: 'JetBrains Mono'; font-size: 1.1rem; color: var(--text-primary); margin-top: 2rem; position: relative; z-index: 1;">
          Three projections. Six transformations. One invariant. Complete.
        </div>
      </div>
    </section>

    <!-- Section 11: Decision Tree Connection -->
    <section class="section" id="tree-connection">
      <div class="section-header">
        <div class="section-number">11</div>
        <h2 class="section-title">Connection to Decision Tree</h2>
      </div>

      <div class="tree-connection">
        <div class="tree-connection-title">MTR DECISION TREE PATH TO S3 ATTRACTOR</div>

        <div class="tree-path">
          <a href="vn-mtr-000-language-before-observers.html" class="path-node" style="--node-color: var(--genesis);">
            <span class="symbol">&#8857;</span>
            <span class="label">R(R)=R</span>
          </a>
          <span class="path-arrow">&#8594;</span>
          <a href="vn-mtr-004-frame-definition.html" class="path-node" style="--node-color: var(--origin);">
            <span class="symbol">F</span>
            <span class="label">Frame</span>
          </a>
          <span class="path-arrow">&#8594;</span>
          <a href="vn-mtr-001-closure-deficit.html" class="path-node" style="--node-color: var(--origin);">
            <span class="symbol">&#948;</span>
            <span class="label">Deficit</span>
          </a>
          <span class="path-arrow">&#8594;</span>
          <a href="vn-mtr-003-invariants.html" class="path-node" style="--node-color: var(--invariant);">
            <span class="symbol">I</span>
            <span class="label">Invariants</span>
          </a>
          <span class="path-arrow">&#8594;</span>
          <a href="vn-mtr-008-frame-extension.html" class="path-node" style="--node-color: var(--evolution);">
            <span class="symbol">F'</span>
            <span class="label">Extension</span>
          </a>
          <span class="path-arrow">&#8594;</span>
          <div class="path-node attractor" style="--node-color: var(--attractor-primary);">
            <span class="symbol">D*</span>
            <span class="label">S3</span>
          </div>
        </div>

        <div style="text-align: center; margin: 2rem 0; font-family: 'JetBrains Mono'; color: var(--text-secondary);">
          FROM HERE, THE SYSTEM CAN:
        </div>

        <div class="return-path">
          <a href="vn-mtr-004-frame-definition.html" class="return-option" style="--option-color: var(--evolution);">
            <div class="arrow" style="color: var(--evolution);">&#8634;</div>
            <div class="text">Return to Frame Definition<br>with new F'</div>
          </a>
          <a href="vn-mtr-009-degeneracy-check.html" class="return-option" style="--option-color: var(--boundary);">
            <div class="arrow" style="color: var(--boundary);">&#9095;</div>
            <div class="text">Bifurcate<br>if degeneracy detected</div>
          </a>
          <a href="vn-mtr-000-language-before-observers.html" class="return-option" style="--option-color: var(--genesis);">
            <div class="arrow" style="color: var(--genesis);">&#8857;</div>
            <div class="text">Trace back to Genesis<br>R(R) = R</div>
          </a>
        </div>
      </div>
    </section>

    <!-- Navigation Footer -->
    <div class="nav-footer">
      <a href="vn-mtr-009-degeneracy-check.html" class="nav-button">
        <span>&#8592;</span> Degeneracy Check
      </a>
      <a href="mtr-decision-tree.html" class="nav-button primary">
        <span>&#8756;</span> MTR Decision Tree
      </a>
      <a href="vn-mtr-004-frame-definition.html" class="nav-button">
        Frame Definition <span>&#8594;</span>
      </a>
    </div>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-equation">S3 = {e, (12), (13), (23), (123), (132)} | |S3| = 6 | &#956;_C = &#8730;3/2 | D* Attractor</div>
    <p>VN-MTR-010 | S3 Attractor Convergence | Prismatic Self Project</p>
  </footer>

  <script>
    // =========================================================================
    // S3 MULTIPLICATION TABLE INTERACTION
    // =========================================================================
    const multTable = document.getElementById('s3MultTable');
    if (multTable) {
      const cells = multTable.querySelectorAll('td');
      cells.forEach(cell => {
        cell.addEventListener('click', function() {
          // Remove all highlights
          cells.forEach(c => c.classList.remove('highlight'));
          // Highlight clicked cell
          this.classList.add('highlight');
        });
      });
    }

    // =========================================================================
    // PROTON MASS CALCULATOR
    // =========================================================================
    const pi5 = Math.pow(Math.PI, 5);
    const protonMass = 6 * pi5;
    document.getElementById('protonCalc').textContent = protonMass.toFixed(2);

    // =========================================================================
    // S3 ORBIT VISUALIZER
    // =========================================================================
    let currentState = [1, 2, 3];
    let stepCount = 0;
    let visitedStates = new Set();

    const stateToString = (state) => `(${state.join(',')})`;

    const transforms = {
      'e': (s) => [...s],
      's1': (s) => [s[1], s[0], s[2]], // (12)
      's2': (s) => [s[2], s[1], s[0]], // (13)
      's3': (s) => [s[0], s[2], s[1]], // (23)
      't': (s) => [s[1], s[2], s[0]],  // (123)
      't2': (s) => [s[2], s[0], s[1]]  // (132)
    };

    function updateOrbitDisplay() {
      const display = document.getElementById('orbitDisplay');
      const states = display.querySelectorAll('.orbit-state');
      const currentStr = stateToString(currentState);

      states.forEach(state => {
        const stateStr = state.dataset.state;
        state.classList.remove('active', 'visited');

        if (stateStr === currentStr) {
          state.classList.add('active');
        } else if (visitedStates.has(stateStr)) {
          state.classList.add('visited');
        }
      });

      document.getElementById('orbitStep').textContent =
        `Current: ${currentStr} | Steps: ${stepCount}`;

      if (visitedStates.size === 6) {
        document.getElementById('orbitInvariant').textContent =
          'ORBIT COMPLETE: All 6 states visited! S3 closure verified.';
      }
    }

    function applyTransform(transformKey) {
      const transform = transforms[transformKey];
      currentState = transform(currentState);
      stepCount++;
      visitedStates.add(stateToString(currentState));
      updateOrbitDisplay();
    }

    function resetOrbit() {
      currentState = [1, 2, 3];
      stepCount = 0;
      visitedStates = new Set();
      visitedStates.add(stateToString(currentState));
      document.getElementById('orbitInvariant').textContent =
        'Invariant I preserved under all transformations';
      updateOrbitDisplay();
    }

    // Initialize
    visitedStates.add(stateToString(currentState));
    updateOrbitDisplay();

    // =========================================================================
    // TRIANGLE VERTEX HOVER EFFECTS
    // =========================================================================
    const vertices = document.querySelectorAll('.vertex');
    vertices.forEach(vertex => {
      vertex.addEventListener('mouseenter', function() {
        this.querySelector('circle').style.filter = 'brightness(1.3)';
      });
      vertex.addEventListener('mouseleave', function() {
        this.querySelector('circle').style.filter = '';
      });
    });
  </script>

</body>
</html>
