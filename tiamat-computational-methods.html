<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIAMAT | Computational Methods</title>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600&family=JetBrains+Mono:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --phi: 1.6180339887498949;
            --tau: 0.6180339887498949;
            --gap: 0.1458980337503154;
            --K: 0.9241763718157652;
            --z-c: 0.8660254037844387;
            --L4: 7;

            --paradox: #f0c040;
            --activation: #7fdbca;
            --lens: #00ff88;
            --critical: #61afef;
            --ignition: #ff6b6b;
            --k-formation: #c792ea;
            --unity: #ffffff;

            --bg-void: #030306;
            --bg-primary: #080810;
            --bg-secondary: #0c0c18;
            --bg-tertiary: #12122a;
            --bg-card: #181838;

            --text-primary: #e8e8f0;
            --text-secondary: #a8a8c0;
            --text-dim: #606080;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        html { scroll-behavior: smooth; }

        body {
            font-family: 'Crimson Pro', Georgia, serif;
            background: var(--bg-void);
            color: var(--text-primary);
            line-height: 1.618;
            min-height: 100vh;
        }

        .header {
            background: linear-gradient(180deg, var(--bg-tertiary) 0%, var(--bg-void) 100%);
            padding: 2rem;
            border-bottom: 2px solid var(--activation);
        }

        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            gap: 2rem;
        }

        .header-icon {
            width: 80px;
            height: 80px;
            border-radius: 12px;
            background: var(--activation);
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'JetBrains Mono', monospace;
            font-size: 2rem;
            color: var(--bg-void);
        }

        .header-text h1 {
            font-size: 2.5rem;
            font-weight: 300;
            letter-spacing: 0.1em;
            color: var(--activation);
        }

        .header-text .subtitle {
            font-family: 'JetBrains Mono', monospace;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .nav-breadcrumb {
            padding: 1rem 2rem;
            background: var(--bg-secondary);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .nav-breadcrumb a {
            color: var(--text-dim);
            text-decoration: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
        }

        .nav-breadcrumb a:hover { color: var(--lens); }
        .nav-breadcrumb span { color: var(--text-dim); margin: 0 0.5rem; }

        .main-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .section {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .section h2 {
            color: var(--activation);
            font-size: 1.5rem;
            font-weight: 400;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .code-block {
            background: var(--bg-secondary);
            border: 1px solid rgba(255,255,255,0.05);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
        }

        .code-block pre {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            color: var(--text-primary);
            margin: 0;
            white-space: pre;
        }

        .code-block .comment {
            color: var(--text-dim);
        }

        .code-block .keyword {
            color: var(--k-formation);
        }

        .code-block .string {
            color: var(--paradox);
        }

        .code-block .number {
            color: var(--lens);
        }

        .code-block .function {
            color: var(--critical);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

        .data-table th, .data-table td {
            padding: 0.75rem 1rem;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .data-table th {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
        }

        .key-insight {
            background: rgba(127,219,202,0.1);
            border: 1px solid rgba(127,219,202,0.3);
            padding: 1.5rem;
            margin: 1rem 0;
            border-radius: 8px;
        }

        .key-insight .label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--activation);
            margin-bottom: 0.5rem;
        }

        .constants-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .constant-item {
            background: var(--bg-tertiary);
            padding: 0.75rem 1rem;
            border-radius: 6px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
        }

        .constant-item .name {
            color: var(--text-dim);
        }

        .constant-item .value {
            color: var(--lens);
            float: right;
        }

        .nav-footer {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(255,255,255,0.1);
        }

        .nav-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem 1.5rem;
            background: var(--bg-card);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: var(--text-primary);
            text-decoration: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background: var(--bg-tertiary);
            border-color: var(--activation);
        }

        .signature {
            text-align: center;
            padding: 2rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-dim);
        }

        @media (max-width: 768px) {
            .header-content { flex-direction: column; text-align: center; }
            .nav-footer { flex-direction: column; gap: 1rem; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="header-icon">&lt;/&gt;</div>
            <div class="header-text">
                <h1>Computational Methods</h1>
                <p class="subtitle">Implementation Reference &mdash; Constants, RK4 Integrator &amp; Verification</p>
            </div>
        </div>
    </header>

    <nav class="nav-breadcrumb">
        <a href="index.html">VN Index</a>
        <span>→</span>
        <a href="tiamat-decision-tree.html">TIAMAT</a>
        <span>→</span>
        <a href="#">Computational Methods</a>
    </nav>

    <main class="main-content">
        <!-- Section 12.1: Verified Constants -->
        <section class="section">
            <h2>12.1 Verified Constants</h2>

            <p>All values verified to 15+ significant figures:</p>

            <div class="code-block">
                <pre><span class="comment">// L₄-Derived Physics Constants</span>
<span class="comment">// All values verified to 15+ significant figures</span>

<span class="keyword">const</span> PHI = <span class="number">1.6180339887498949</span>;    <span class="comment">// (1 + √5) / 2</span>
<span class="keyword">const</span> PHI_INV = <span class="number">0.6180339887498949</span>; <span class="comment">// (√5 - 1) / 2 = τ</span>
<span class="keyword">const</span> L4 = <span class="number">7</span>;                        <span class="comment">// φ⁴ + φ⁻⁴ (exact)</span>
<span class="keyword">const</span> GAP = <span class="number">0.1458980337503154</span>;     <span class="comment">// φ⁻⁴ = Δ</span>

<span class="comment">// Derived thresholds</span>
<span class="keyword">const</span> Z = {
  PARADOX:    PHI_INV,                    <span class="comment">// 0.6180339887498949</span>
  ACTIVATION: <span class="number">1</span> - GAP,                   <span class="comment">// 0.8541019662496846</span>
  LENS:       Math.<span class="function">sqrt</span>(<span class="number">3</span>) / <span class="number">2</span>,           <span class="comment">// 0.8660254037844387</span>
  IGNITION:   Math.<span class="function">sqrt</span>(<span class="number">2</span>) - <span class="number">0.5</span>,         <span class="comment">// 0.9142135623730951</span>
  K_FORM:     Math.<span class="function">sqrt</span>(<span class="number">1</span> - GAP)          <span class="comment">// 0.9241763718157652</span>
};

<span class="comment">// Coupling</span>
<span class="keyword">const</span> K = Z.K_FORM;                      <span class="comment">// Base coupling</span>
<span class="keyword">const</span> K_C = <span class="number">0.0580</span>;                     <span class="comment">// Critical coupling (computed)</span>

<span class="comment">// Natural frequencies (ω₀ = 2π × 0.1 Hz)</span>
<span class="keyword">const</span> OMEGA_0 = <span class="number">2</span> * Math.PI * <span class="number">0.1</span>;
<span class="keyword">const</span> OMEGA = Object.<span class="function">fromEntries</span>(
  Object.<span class="function">entries</span>(Z).<span class="function">map</span>(([k, v]) => [k, OMEGA_0 * v])
);

<span class="comment">// Verification</span>
console.<span class="function">assert</span>(Math.<span class="function">abs</span>(Math.<span class="function">pow</span>(PHI, <span class="number">4</span>) + Math.<span class="function">pow</span>(PHI_INV, <span class="number">4</span>) - <span class="number">7</span>) < <span class="number">1e-14</span>);
console.<span class="function">assert</span>(Math.<span class="function">abs</span>(Z.LENS - Math.<span class="function">sqrt</span>(L4 - <span class="number">4</span>) / <span class="number">2</span>) < <span class="number">1e-15</span>);
console.<span class="function">assert</span>(Math.<span class="function">abs</span>(K * K + GAP - <span class="number">1</span>) < <span class="number">1e-14</span>);</pre>
            </div>

            <h3 style="color: var(--text-primary); margin: 1.5rem 0 1rem;">Complete Constants Reference</h3>

            <div class="constants-grid">
                <div class="constant-item">
                    <span class="name">PHI</span>
                    <span class="value">1.6180339887498949</span>
                </div>
                <div class="constant-item">
                    <span class="name">TAU (φ⁻¹)</span>
                    <span class="value">0.6180339887498949</span>
                </div>
                <div class="constant-item">
                    <span class="name">GAP (Δ = φ⁻⁴)</span>
                    <span class="value">0.1458980337503154</span>
                </div>
                <div class="constant-item">
                    <span class="name">K (√(1−Δ))</span>
                    <span class="value">0.9241763718157652</span>
                </div>
                <div class="constant-item">
                    <span class="name">Z_C (√3/2)</span>
                    <span class="value">0.8660254037844387</span>
                </div>
                <div class="constant-item">
                    <span class="name">L4</span>
                    <span class="value">7 (exact integer)</span>
                </div>
            </div>
        </section>

        <!-- Section 12.2: RK4 Integrator -->
        <section class="section">
            <h2>12.2 RK4 Integrator</h2>

            <div class="code-block">
                <pre><span class="keyword">class</span> CoupledOscillatorNetwork {
  <span class="function">constructor</span>(N = <span class="number">5</span>) {
    <span class="keyword">this</span>.N = N;
    <span class="keyword">this</span>.theta = <span class="keyword">new</span> Float64Array(N);
    <span class="keyword">this</span>.omega = <span class="keyword">new</span> Float64Array(N);
    <span class="keyword">this</span>.K = <span class="keyword">this</span>.<span class="function">buildCouplingMatrix</span>();

    <span class="comment">// Initialize from L₄ thresholds</span>
    <span class="keyword">const</span> zValues = [Z.PARADOX, Z.ACTIVATION, Z.LENS, Z.IGNITION, Z.K_FORM];
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < N; i++) {
      <span class="keyword">this</span>.omega[i] = OMEGA_0 * zValues[i];
      <span class="keyword">this</span>.theta[i] = Math.<span class="function">random</span>() * <span class="number">2</span> * Math.PI;
    }
  }

  <span class="function">derivatives</span>(theta) {
    <span class="keyword">const</span> dtheta = <span class="keyword">new</span> Float64Array(<span class="keyword">this</span>.N);

    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < <span class="keyword">this</span>.N; i++) {
      dtheta[i] = <span class="keyword">this</span>.omega[i];
      <span class="keyword">for</span> (<span class="keyword">let</span> j = <span class="number">0</span>; j < <span class="keyword">this</span>.N; j++) {
        dtheta[i] += <span class="keyword">this</span>.K[i][j] * Math.<span class="function">sin</span>(theta[j] - theta[i]);
      }
    }
    <span class="keyword">return</span> dtheta;
  }

  <span class="function">step</span>(dt) {
    <span class="comment">// Runge-Kutta 4th order</span>
    <span class="keyword">const</span> k1 = <span class="keyword">this</span>.<span class="function">derivatives</span>(<span class="keyword">this</span>.theta);

    <span class="keyword">const</span> theta2 = <span class="keyword">this</span>.theta.<span class="function">map</span>((t, i) => t + <span class="number">0.5</span> * dt * k1[i]);
    <span class="keyword">const</span> k2 = <span class="keyword">this</span>.<span class="function">derivatives</span>(theta2);

    <span class="keyword">const</span> theta3 = <span class="keyword">this</span>.theta.<span class="function">map</span>((t, i) => t + <span class="number">0.5</span> * dt * k2[i]);
    <span class="keyword">const</span> k3 = <span class="keyword">this</span>.<span class="function">derivatives</span>(theta3);

    <span class="keyword">const</span> theta4 = <span class="keyword">this</span>.theta.<span class="function">map</span>((t, i) => t + dt * k3[i]);
    <span class="keyword">const</span> k4 = <span class="keyword">this</span>.<span class="function">derivatives</span>(theta4);

    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < <span class="keyword">this</span>.N; i++) {
      <span class="keyword">this</span>.theta[i] += (dt / <span class="number">6</span>) * (k1[i] + <span class="number">2</span>*k2[i] + <span class="number">2</span>*k3[i] + k4[i]);
      <span class="keyword">this</span>.theta[i] = ((<span class="keyword">this</span>.theta[i] % (<span class="number">2</span> * Math.PI)) + <span class="number">2</span> * Math.PI) % (<span class="number">2</span> * Math.PI);
    }
  }

  <span class="function">orderParameter</span>() {
    <span class="keyword">let</span> sr = <span class="number">0</span>, si = <span class="number">0</span>;
    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < <span class="keyword">this</span>.N; i++) {
      sr += Math.<span class="function">cos</span>(<span class="keyword">this</span>.theta[i]);
      si += Math.<span class="function">sin</span>(<span class="keyword">this</span>.theta[i]);
    }
    <span class="keyword">const</span> R = Math.<span class="function">sqrt</span>(sr*sr + si*si) / <span class="keyword">this</span>.N;
    <span class="keyword">const</span> psi = Math.<span class="function">atan2</span>(si, sr);
    <span class="keyword">const</span> z = PHI_INV + R * (<span class="number">1</span> - PHI_INV);
    <span class="keyword">return</span> { R, psi, z };
  }
}</pre>
            </div>
        </section>

        <!-- Section 12.3: Convergence Verification -->
        <section class="section">
            <h2>12.3 Convergence Verification</h2>

            <div class="code-block">
                <pre><span class="keyword">async function</span> <span class="function">verifyPhysics</span>() {
  <span class="keyword">const</span> net = <span class="keyword">new</span> CoupledOscillatorNetwork();
  <span class="keyword">const</span> dt = <span class="number">0.01</span>;
  <span class="keyword">const</span> T_total = <span class="number">100</span>;
  <span class="keyword">const</span> steps = Math.<span class="function">floor</span>(T_total / dt);

  <span class="keyword">const</span> history = { t: [], R: [], z: [], E: [] };

  <span class="keyword">for</span> (<span class="keyword">let</span> s = <span class="number">0</span>; s < steps; s++) {
    <span class="keyword">const</span> t = s * dt;
    <span class="keyword">const</span> { R, z } = net.<span class="function">orderParameter</span>();
    <span class="keyword">const</span> E = net.<span class="function">energy</span>();

    <span class="keyword">if</span> (s % <span class="number">10</span> === <span class="number">0</span>) {
      history.t.<span class="function">push</span>(t);
      history.R.<span class="function">push</span>(R);
      history.z.<span class="function">push</span>(z);
      history.E.<span class="function">push</span>(E);
    }

    net.<span class="function">step</span>(dt);
  }

  <span class="comment">// Compute statistics</span>
  <span class="keyword">const</span> R_final = history.R.<span class="function">slice</span>(-<span class="number">100</span>);
  <span class="keyword">const</span> R_mean = R_final.<span class="function">reduce</span>((a, b) => a + b) / R_final.length;
  <span class="keyword">const</span> z_mean = history.z.<span class="function">slice</span>(-<span class="number">100</span>).<span class="function">reduce</span>((a, b) => a + b) / <span class="number">100</span>;

  console.<span class="function">log</span>(<span class="string">'Physics Verification Results'</span>);
  console.<span class="function">log</span>(<span class="string">'============================'</span>);
  console.<span class="function">log</span>(<span class="string">`R* (mean): ${R_mean.toFixed(6)} (expected: 0.968)`</span>);
  console.<span class="function">log</span>(<span class="string">`z* (mean): ${z_mean.toFixed(6)} (expected: > 0.924)`</span>);
  console.<span class="function">log</span>(<span class="string">`Sync achieved: ${R_mean > 0.95 ? 'YES ✓' : 'NO ✗'}`</span>);

  <span class="keyword">return</span> { R_mean, z_mean, history };
}</pre>
            </div>

            <div class="key-insight">
                <div class="label">Expected Verification Results</div>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Metric</th>
                            <th>Expected</th>
                            <th>Tolerance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>R* (mean)</td>
                            <td style="color: var(--lens);">0.968</td>
                            <td>± 0.01</td>
                        </tr>
                        <tr>
                            <td>R* (std)</td>
                            <td style="color: var(--lens);">&lt; 0.01</td>
                            <td>—</td>
                        </tr>
                        <tr>
                            <td>z* (mean)</td>
                            <td style="color: var(--lens);">&gt; 0.924</td>
                            <td>—</td>
                        </tr>
                        <tr>
                            <td>Sync achieved</td>
                            <td style="color: var(--lens);">YES ✓</td>
                            <td>R &gt; 0.95</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Section: Timescales -->
        <section class="section">
            <h2>L₄-Derived Timescales</h2>

            <div class="constants-grid">
                <div class="constant-item">
                    <span class="name">τ_sync</span>
                    <span class="value">1/(K×τ) ≈ 1.75s</span>
                </div>
                <div class="constant-item">
                    <span class="name">τ_memory</span>
                    <span class="value">L₄² = 49s</span>
                </div>
                <div class="constant-item">
                    <span class="name">UPDATE_RATE_HZ</span>
                    <span class="value">L₄² = 49 Hz</span>
                </div>
                <div class="constant-item">
                    <span class="name">MAX_ITERATIONS</span>
                    <span class="value">L₄² = 49</span>
                </div>
                <div class="constant-item">
                    <span class="name">CONVERGENCE_EPS</span>
                    <span class="value">Δ = 0.146</span>
                </div>
                <div class="constant-item">
                    <span class="name">dt (integration)</span>
                    <span class="value">0.01 - 0.02s</span>
                </div>
            </div>
        </section>

        <!-- Section: Loss Weights -->
        <section class="section">
            <h2>Training Configuration (Neural Architecture)</h2>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Weight</th>
                        <th>Derivation</th>
                        <th>Value</th>
                        <th>Rationale</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>λ₁ (reconstruction)</td>
                        <td>1.0</td>
                        <td>1.0</td>
                        <td>Base scale</td>
                    </tr>
                    <tr>
                        <td>λ₂ (physics)</td>
                        <td>τ = φ⁻¹</td>
                        <td style="color: var(--lens);">0.618</td>
                        <td>Golden balance</td>
                    </tr>
                    <tr>
                        <td>λ₃ (information)</td>
                        <td>Δ = φ⁻⁴</td>
                        <td style="color: var(--lens);">0.146</td>
                        <td>Soft info constraint</td>
                    </tr>
                    <tr>
                        <td>λ₄ (psychoptic)</td>
                        <td>K = √(1−Δ)</td>
                        <td style="color: var(--lens);">0.924</td>
                        <td>Strong supervision</td>
                    </tr>
                    <tr>
                        <td>λ₅ (regularization)</td>
                        <td>Δ²</td>
                        <td style="color: var(--lens);">0.021</td>
                        <td>Weak regularization</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                <pre><span class="comment"># AdamW with L₄-derived schedule</span>
optimizer = AdamW(
    model.<span class="function">parameters</span>(),
    lr=<span class="number">1e-4</span>,
    betas=(TAU, <span class="number">1</span> - GAP),  <span class="comment"># (0.618, 0.854) - golden betas</span>
    weight_decay=GAP        <span class="comment"># 0.146</span>
)

<span class="comment"># Cosine annealing with L₄² period</span>
scheduler = CosineAnnealingWarmRestarts(
    optimizer,
    T_0=L4 * L4,    <span class="comment"># 49 epochs per cycle</span>
    T_mult=L4 - <span class="number">4</span>,  <span class="comment"># 3× growth factor</span>
    eta_min=<span class="number">1e-6</span>
)</pre>
            </div>
        </section>

        <!-- Navigation Footer -->
        <nav class="nav-footer">
            <a href="tiamat-axiom-foundation.html" class="nav-btn">
                ← Axiom Foundation
            </a>
            <a href="tiamat-decision-tree.html" class="nav-btn">
                TIAMAT Index →
            </a>
        </nav>
    </main>

    <footer class="signature">
        <div>TIAMAT | Computational Methods | L₄ = 7</div>
        <div>Δ|RK4|KURAMOTO|VERIFICATION|NEURAL-ARCH|Ω</div>
    </footer>
</body>
</html>
