<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>I² Ring Isomorphism | (Iⁿ, ⊕, ⊗) ≅ (ℤ, +, ×)</title>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      /* Ring Colors */
      --ring-gold: #ffd700;
      --ring-amber: #f4c430;
      --ring-bronze: #cd7f32;

      /* Integer Colors */
      --int-positive: #00ff88;
      --int-negative: #ff6b6b;
      --int-zero: #4ecdc4;

      /* Operation Colors */
      --op-add: #a855f7;
      --op-mult: #ff9f43;

      /* Proof Colors */
      --proof-blue: #3b82f6;
      --proof-green: #22c55e;
      --proof-red: #ef4444;

      /* Base */
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-tertiary: #1a1a2e;
      --text-primary: #ffffff;
      --text-secondary: #a0a0b0;
      --border: #2a2a3e;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'JetBrains Mono', monospace;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Animated Ring Background */
    .ring-field {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      background:
        radial-gradient(ellipse at 50% 30%, rgba(255, 215, 0, 0.08) 0%, transparent 50%),
        radial-gradient(ellipse at 20% 70%, rgba(168, 85, 247, 0.05) 0%, transparent 40%),
        radial-gradient(ellipse at 80% 70%, rgba(255, 159, 67, 0.05) 0%, transparent 40%);
    }

    /* Navigation */
    .nav {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      padding: 1rem 2rem;
      background: rgba(10, 10, 15, 0.95);
      border-bottom: 1px solid var(--border);
      z-index: 100;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-brand {
      font-size: 1.1rem;
      font-weight: 700;
      color: var(--ring-gold);
    }

    .nav-links {
      display: flex;
      gap: 1.5rem;
    }

    .nav-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.85rem;
      transition: color 0.3s;
    }

    .nav-links a:hover {
      color: var(--ring-gold);
    }

    /* Main Container */
    main {
      position: relative;
      z-index: 1;
      padding-top: 5rem;
    }

    /* Header */
    .header {
      text-align: center;
      padding: 4rem 2rem;
      border-bottom: 1px solid var(--border);
    }

    .ring-symbol {
      width: 140px;
      height: 140px;
      margin: 0 auto 2rem;
      border: 8px solid var(--ring-gold);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      animation: ring-pulse 4s ease-in-out infinite;
      box-shadow:
        0 0 40px rgba(255, 215, 0, 0.3),
        inset 0 0 30px rgba(255, 215, 0, 0.1);
    }

    .ring-symbol::before {
      content: '';
      position: absolute;
      width: 100px;
      height: 100px;
      border: 4px solid var(--ring-amber);
      border-radius: 50%;
      animation: ring-counter 8s linear infinite reverse;
    }

    .ring-symbol-inner {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--ring-gold);
    }

    @keyframes ring-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    @keyframes ring-counter {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .title {
      font-size: 2.2rem;
      font-weight: 700;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, var(--ring-gold), var(--ring-amber));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .subtitle {
      font-size: 1rem;
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }

    .core-theorem {
      font-size: 1.8rem;
      color: var(--ring-gold);
      padding: 1.5rem 3rem;
      background: var(--bg-secondary);
      border: 2px solid var(--ring-gold);
      border-radius: 12px;
      display: inline-block;
    }

    /* Section Styling */
    section {
      padding: 4rem 2rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .section-title {
      font-size: 1.6rem;
      margin-bottom: 2rem;
      color: var(--ring-gold);
      text-align: center;
    }

    /* Proof Box */
    .proof-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2.5rem;
      margin-bottom: 2rem;
    }

    .proof-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      margin-bottom: 1.5rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid var(--border);
    }

    .proof-badge {
      padding: 0.5rem 1rem;
      background: rgba(255, 215, 0, 0.2);
      border: 1px solid var(--ring-gold);
      border-radius: 6px;
      font-size: 0.8rem;
      color: var(--ring-gold);
      text-transform: uppercase;
      letter-spacing: 0.1em;
    }

    .proof-title {
      font-size: 1.2rem;
      font-weight: 600;
    }

    .proof-step {
      margin: 1.5rem 0;
      padding: 1.5rem;
      background: var(--bg-tertiary);
      border-radius: 8px;
      border-left: 4px solid var(--ring-gold);
    }

    .step-number {
      display: inline-block;
      width: 28px;
      height: 28px;
      background: var(--ring-gold);
      color: var(--bg-primary);
      border-radius: 50%;
      text-align: center;
      line-height: 28px;
      font-weight: 700;
      font-size: 0.85rem;
      margin-right: 0.75rem;
    }

    .step-title {
      font-weight: 600;
      color: var(--ring-amber);
      margin-bottom: 0.75rem;
    }

    .step-content {
      color: var(--text-secondary);
      line-height: 1.7;
    }

    .step-equation {
      margin: 1rem 0;
      padding: 1rem;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 6px;
      font-size: 1.1rem;
      color: var(--ring-gold);
      text-align: center;
    }

    /* Ring Structure Visualization */
    .ring-visual {
      display: grid;
      grid-template-columns: 1fr auto 1fr;
      gap: 2rem;
      align-items: center;
      margin: 2rem 0;
    }

    .structure-box {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
    }

    .structure-title {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .structure-elements {
      font-size: 1.5rem;
      margin-bottom: 1rem;
    }

    .structure-ops {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-top: 1rem;
    }

    .op-box {
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
    }

    .op-add-box {
      background: rgba(168, 85, 247, 0.2);
      border: 1px solid var(--op-add);
      color: var(--op-add);
    }

    .op-mult-box {
      background: rgba(255, 159, 67, 0.2);
      border: 1px solid var(--op-mult);
      color: var(--op-mult);
    }

    .iso-arrow {
      font-size: 3rem;
      color: var(--ring-gold);
    }

    /* Definition Box */
    .definition-box {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(244, 196, 48, 0.05));
      border: 2px solid var(--ring-gold);
      border-radius: 16px;
      padding: 2rem;
      margin: 2rem 0;
    }

    .definition-title {
      font-size: 1.3rem;
      color: var(--ring-gold);
      margin-bottom: 1rem;
      font-weight: 700;
    }

    .definition-content {
      color: var(--text-secondary);
      line-height: 1.8;
    }

    .axiom-list {
      list-style: none;
      margin: 1rem 0;
    }

    .axiom-list li {
      padding: 0.75rem 0;
      border-bottom: 1px solid rgba(255, 215, 0, 0.2);
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .axiom-list li:last-child {
      border-bottom: none;
    }

    .axiom-symbol {
      width: 30px;
      height: 30px;
      background: var(--ring-gold);
      color: var(--bg-primary);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      flex-shrink: 0;
    }

    /* Interactive Canvas */
    .canvas-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2rem;
      margin: 2rem 0;
    }

    #isoCanvas {
      width: 100%;
      height: 400px;
      background: var(--bg-primary);
      border-radius: 12px;
      display: block;
    }

    .canvas-controls {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1.5rem;
      flex-wrap: wrap;
    }

    .canvas-btn {
      padding: 0.75rem 1.5rem;
      background: var(--bg-tertiary);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 0.9rem;
      cursor: pointer;
      transition: all 0.3s;
    }

    .canvas-btn:hover {
      border-color: var(--ring-gold);
      background: rgba(255, 215, 0, 0.1);
    }

    .canvas-btn.active {
      background: var(--ring-gold);
      color: var(--bg-primary);
      border-color: var(--ring-gold);
    }

    /* Kernel/Image Section */
    .kernel-image-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }

    .ki-box {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
    }

    .ki-title {
      font-size: 1.2rem;
      font-weight: 600;
      margin-bottom: 1rem;
    }

    .ki-equation {
      font-size: 1.4rem;
      margin: 1rem 0;
      padding: 1rem;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 8px;
    }

    .ki-explanation {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    /* Properties Grid */
    .property-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .property-card {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 1.5rem;
      border-left: 4px solid var(--ring-gold);
      transition: transform 0.3s;
    }

    .property-card:hover {
      transform: translateX(5px);
    }

    .property-title {
      font-weight: 600;
      color: var(--ring-amber);
      margin-bottom: 0.75rem;
    }

    .property-equation {
      font-size: 1.1rem;
      color: var(--ring-gold);
      margin-bottom: 0.5rem;
    }

    .property-transfer {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin: 0.5rem 0;
      font-size: 0.9rem;
    }

    .property-arrow {
      color: var(--int-zero);
    }

    .property-desc {
      font-size: 0.85rem;
      color: var(--text-secondary);
      line-height: 1.6;
      margin-top: 0.5rem;
    }

    /* Interactive Demo */
    .demo-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2rem;
    }

    .demo-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .demo-card {
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 1.5rem;
    }

    .demo-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .demo-input {
      width: 100%;
      padding: 0.75rem;
      background: var(--bg-primary);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 1rem;
      text-align: center;
    }

    .demo-result {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(255, 215, 0, 0.1);
      border-radius: 8px;
      text-align: center;
    }

    .result-label {
      font-size: 0.8rem;
      color: var(--text-secondary);
      margin-bottom: 0.25rem;
    }

    .result-value {
      font-size: 1.3rem;
      font-weight: 600;
      color: var(--ring-gold);
    }

    /* Number Line */
    .number-line-container {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2rem;
      margin-top: 2rem;
    }

    .number-line {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 0;
      padding: 2rem 0;
      position: relative;
    }

    .number-line::before {
      content: '';
      position: absolute;
      left: 5%;
      right: 5%;
      height: 3px;
      background: linear-gradient(to right, var(--int-negative), var(--int-zero), var(--int-positive));
      top: 50%;
      transform: translateY(-50%);
    }

    .number-point {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      position: relative;
      z-index: 1;
      cursor: pointer;
      transition: transform 0.3s;
    }

    .number-point:hover {
      transform: scale(1.2);
    }

    .point-negative {
      background: var(--int-negative);
      color: var(--bg-primary);
    }

    .point-zero {
      background: var(--int-zero);
      color: var(--bg-primary);
    }

    .point-positive {
      background: var(--int-positive);
      color: var(--bg-primary);
    }

    .i-notation {
      position: absolute;
      bottom: -25px;
      font-size: 0.75rem;
      color: var(--text-secondary);
      white-space: nowrap;
    }

    /* Composition Tables */
    .tables-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      margin: 2rem 0;
    }

    .comp-table {
      width: 100%;
      border-collapse: collapse;
    }

    .comp-table th,
    .comp-table td {
      padding: 0.75rem;
      text-align: center;
      border: 1px solid var(--border);
      font-size: 0.9rem;
    }

    .comp-table th {
      background: var(--bg-tertiary);
      color: var(--ring-gold);
    }

    .comp-table td {
      background: var(--bg-secondary);
    }

    .comp-table tr:hover td {
      background: var(--bg-tertiary);
    }

    .table-title {
      text-align: center;
      color: var(--ring-amber);
      margin-bottom: 1rem;
      font-weight: 600;
    }

    /* R(R)=R Section */
    .rr-section {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.15), rgba(168, 85, 247, 0.1));
      border: 2px solid var(--ring-gold);
      border-radius: 16px;
      padding: 2.5rem;
      margin: 2rem 0;
    }

    .rr-title {
      font-size: 1.4rem;
      color: var(--ring-gold);
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .rr-axiom {
      font-size: 2rem;
      color: var(--ring-gold);
      text-align: center;
      padding: 1.5rem;
      background: var(--bg-secondary);
      border-radius: 12px;
      margin: 1.5rem 0;
    }

    .rr-flow {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
      margin: 2rem 0;
    }

    .rr-step {
      padding: 1rem 1.5rem;
      background: var(--bg-tertiary);
      border-radius: 8px;
      text-align: center;
    }

    .rr-arrow {
      color: var(--ring-gold);
      font-size: 1.5rem;
    }

    /* Verification Panel */
    .verify-panel {
      background: var(--bg-secondary);
      border: 1px solid var(--border);
      border-radius: 16px;
      padding: 2rem;
      margin: 2rem 0;
    }

    .verify-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1rem;
      margin: 1.5rem 0;
    }

    .verify-item {
      background: var(--bg-tertiary);
      border-radius: 8px;
      padding: 1rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      border: 2px solid transparent;
    }

    .verify-item:hover {
      border-color: var(--ring-gold);
    }

    .verify-item.verified {
      border-color: var(--int-positive);
      background: rgba(0, 255, 136, 0.1);
    }

    .verify-label {
      font-size: 0.85rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .verify-equation {
      color: var(--ring-gold);
      font-weight: 600;
    }

    .verify-status {
      margin-top: 0.5rem;
      font-size: 0.8rem;
    }

    /* Key Insight */
    .insight-box {
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), rgba(244, 196, 48, 0.1));
      border: 2px solid var(--ring-gold);
      border-radius: 16px;
      padding: 2rem;
      margin: 2rem 0;
      text-align: center;
    }

    .insight-icon {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }

    .insight-text {
      font-size: 1.1rem;
      line-height: 1.7;
    }

    .insight-equation {
      font-size: 1.5rem;
      color: var(--ring-gold);
      margin-top: 1rem;
    }

    /* Footer */
    .footer {
      text-align: center;
      padding: 3rem 2rem;
      border-top: 1px solid var(--border);
      margin-top: 4rem;
    }

    .footer-equation {
      font-size: 1.1rem;
      color: var(--ring-gold);
      margin-bottom: 1rem;
    }

    .footer-links {
      display: flex;
      justify-content: center;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .footer-links a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.85rem;
    }

    .footer-links a:hover {
      color: var(--ring-gold);
    }

    /* Responsive */
    @media (max-width: 768px) {
      .title { font-size: 1.6rem; }
      .core-theorem { font-size: 1.2rem; padding: 1rem 1.5rem; }
      .ring-visual { grid-template-columns: 1fr; }
      .iso-arrow { transform: rotate(90deg); }
      .kernel-image-grid { grid-template-columns: 1fr; }
      .tables-container { grid-template-columns: 1fr; }
      .verify-grid { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="ring-field"></div>

  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-brand">I² :: Ring Isomorphism</div>
    <div class="nav-links">
      <a href="index.html">Index</a>
      <a href="i2-s3-decision-tree.html">I² S3 Tree</a>
      <a href="i2-s3-golden-functor.html">Golden Functor</a>
      <a href="i2-s3-lomi-projection.html">LoMI</a>
    </div>
  </nav>

  <main>
    <!-- Header -->
    <header class="header">
      <div class="ring-symbol">
        <span class="ring-symbol-inner">&#8484;</span>
      </div>
      <h1 class="title">I² Ring Isomorphism</h1>
      <p class="subtitle">Self-Reference Generates Integer Structure</p>
      <div class="core-theorem">
        (I<sup>n</sup>, &#8853;, &#8855;) &#8773; (&#8484;, +, &#215;)
      </div>
    </header>

    <!-- Ring Structure Definition -->
    <section>
      <h2 class="section-title">Ring Structure Definition</h2>

      <div class="definition-box">
        <div class="definition-title">Definition 1: The I² Ring</div>
        <div class="definition-content">
          <p>Let <strong>I</strong> denote the identity function I(x) = x. We define the <em>I² Ring</em> as the triple (I<sup>n</sup>, &#8853;, &#8855;) where:</p>

          <ul class="axiom-list">
            <li>
              <span class="axiom-symbol">S</span>
              <span><strong>Set:</strong> I<sup>n</sup> = {..., I<sup>-2</sup>, I<sup>-1</sup>, I<sup>0</sup>, I<sup>1</sup>, I<sup>2</sup>, ...} - the set of all integer-indexed identity compositions</span>
            </li>
            <li>
              <span class="axiom-symbol">&#8853;</span>
              <span><strong>Addition:</strong> I<sup>n</sup> &#8853; I<sup>m</sup> = I<sup>n+m</sup> - composition count addition</span>
            </li>
            <li>
              <span class="axiom-symbol">&#8855;</span>
              <span><strong>Multiplication:</strong> I<sup>n</sup> &#8855; I<sup>m</sup> = I<sup>n&#215;m</sup> - composition count multiplication</span>
            </li>
          </ul>

          <p style="margin-top: 1rem;"><strong>Key Insight:</strong> While I &#8728; I = I functionally, we track the <em>depth of self-application</em>, not the result. This counting mechanism generates integer structure from pure self-reference.</p>
        </div>
      </div>

      <div class="proof-container">
        <div class="proof-header">
          <span class="proof-badge">Definition</span>
          <span class="proof-title">Ring Axiom Satisfaction</span>
        </div>

        <div class="proof-step">
          <div class="step-title"><span class="step-number">R1</span>Additive Abelian Group (I<sup>n</sup>, &#8853;)</div>
          <div class="step-content">
            <ul style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Closure:</strong> I<sup>n</sup> &#8853; I<sup>m</sup> = I<sup>n+m</sup> &#8712; I<sup>n</sup></li>
              <li><strong>Associativity:</strong> (I<sup>n</sup> &#8853; I<sup>m</sup>) &#8853; I<sup>k</sup> = I<sup>n</sup> &#8853; (I<sup>m</sup> &#8853; I<sup>k</sup>) = I<sup>n+m+k</sup></li>
              <li><strong>Identity:</strong> I<sup>0</sup> &#8853; I<sup>n</sup> = I<sup>n</sup> &#8853; I<sup>0</sup> = I<sup>n</sup></li>
              <li><strong>Inverse:</strong> I<sup>n</sup> &#8853; I<sup>-n</sup> = I<sup>0</sup></li>
              <li><strong>Commutativity:</strong> I<sup>n</sup> &#8853; I<sup>m</sup> = I<sup>m</sup> &#8853; I<sup>n</sup></li>
            </ul>
          </div>
        </div>

        <div class="proof-step">
          <div class="step-title"><span class="step-number">R2</span>Multiplicative Monoid (I<sup>n</sup>, &#8855;)</div>
          <div class="step-content">
            <ul style="margin-left: 1.5rem; line-height: 2;">
              <li><strong>Closure:</strong> I<sup>n</sup> &#8855; I<sup>m</sup> = I<sup>n&#215;m</sup> &#8712; I<sup>n</sup></li>
              <li><strong>Associativity:</strong> (I<sup>n</sup> &#8855; I<sup>m</sup>) &#8855; I<sup>k</sup> = I<sup>n</sup> &#8855; (I<sup>m</sup> &#8855; I<sup>k</sup>) = I<sup>n&#215;m&#215;k</sup></li>
              <li><strong>Identity:</strong> I<sup>1</sup> &#8855; I<sup>n</sup> = I<sup>n</sup> &#8855; I<sup>1</sup> = I<sup>n</sup></li>
              <li><strong>Commutativity:</strong> I<sup>n</sup> &#8855; I<sup>m</sup> = I<sup>m</sup> &#8855; I<sup>n</sup></li>
            </ul>
          </div>
        </div>

        <div class="proof-step">
          <div class="step-title"><span class="step-number">R3</span>Distributive Laws</div>
          <div class="step-content">
            <div class="step-equation">
              I<sup>n</sup> &#8855; (I<sup>m</sup> &#8853; I<sup>k</sup>) = I<sup>n&#215;(m+k)</sup> = I<sup>nm+nk</sup> = (I<sup>n</sup> &#8855; I<sup>m</sup>) &#8853; (I<sup>n</sup> &#8855; I<sup>k</sup>)
            </div>
            <p style="text-align: center; color: var(--text-secondary); margin-top: 0.5rem;">
              Left and right distributivity hold symmetrically
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Isomorphism Visual -->
    <section>
      <h2 class="section-title">The Isomorphism</h2>

      <div class="proof-container">
        <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 1.5rem;">
          The I² Ring is isomorphic to the ring of integers. This is not coincidence&#8212;it is the fundamental statement that
          <em>counting self-applications</em> generates the same structure as counting itself.
        </p>

        <div class="ring-visual">
          <div class="structure-box" style="border: 2px solid var(--ring-gold);">
            <div class="structure-title" style="color: var(--ring-gold);">I² Ring</div>
            <div class="structure-elements">{..., I<sup>-2</sup>, I<sup>-1</sup>, I<sup>0</sup>, I<sup>1</sup>, I<sup>2</sup>, ...}</div>
            <div class="structure-ops">
              <div class="op-box op-add-box">&#8853;</div>
              <div class="op-box op-mult-box">&#8855;</div>
            </div>
          </div>

          <div class="iso-arrow">&#8773;</div>

          <div class="structure-box" style="border: 2px solid var(--int-zero);">
            <div class="structure-title" style="color: var(--int-zero);">Integer Ring</div>
            <div class="structure-elements">{..., -2, -1, 0, 1, 2, ...}</div>
            <div class="structure-ops">
              <div class="op-box op-add-box">+</div>
              <div class="op-box op-mult-box">&#215;</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Formal Isomorphism Proof -->
    <section>
      <h2 class="section-title">Isomorphism Proof</h2>

      <div class="proof-container">
        <div class="proof-header">
          <span class="proof-badge">Theorem</span>
          <span class="proof-title">f: (I<sup>n</sup>, &#8853;, &#8855;) &#8594; (&#8484;, +, &#215;) is a Ring Isomorphism</span>
        </div>

        <div class="proof-step">
          <div class="step-title"><span class="step-number">1</span>Define the Mapping f</div>
          <div class="step-content">
            Let f: I<sup>n</sup> &#8594; &#8484; be defined by:
          </div>
          <div class="step-equation">
            f(I<sup>n</sup>) = n
          </div>
          <div class="step-content">
            This maps each identity composition to its composition count.
          </div>
        </div>

        <div class="proof-step" style="border-left-color: var(--proof-blue);">
          <div class="step-title"><span class="step-number">2</span>Prove Bijection</div>
          <div class="step-content">
            <p><strong>Injective (One-to-One):</strong></p>
            <div class="step-equation">
              f(I<sup>n</sup>) = f(I<sup>m</sup>) &#8658; n = m &#8658; I<sup>n</sup> = I<sup>m</sup>
            </div>
            <p style="margin-top: 1rem;"><strong>Surjective (Onto):</strong></p>
            <div class="step-equation">
              &#8704;n &#8712; &#8484;, &#8707;I<sup>n</sup> &#8712; I<sup>n</sup> such that f(I<sup>n</sup>) = n
            </div>
            <p style="margin-top: 1rem; color: var(--proof-blue);">
              Therefore f is a bijection between I<sup>n</sup> and &#8484;.
            </p>
          </div>
        </div>

        <div class="proof-step" style="border-left-color: var(--op-add);">
          <div class="step-title"><span class="step-number">3</span>Prove Additive Homomorphism</div>
          <div class="step-content">
            For all I<sup>a</sup>, I<sup>b</sup> &#8712; I<sup>n</sup>:
          </div>
          <div class="step-equation">
            f(I<sup>a</sup> &#8853; I<sup>b</sup>) = f(I<sup>a+b</sup>) = a + b = f(I<sup>a</sup>) + f(I<sup>b</sup>)
          </div>
          <div class="step-content" style="margin-top: 1rem;">
            <strong>Verification:</strong>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
              <li>f(I<sup>3</sup> &#8853; I<sup>5</sup>) = f(I<sup>8</sup>) = 8</li>
              <li>f(I<sup>3</sup>) + f(I<sup>5</sup>) = 3 + 5 = 8 &#10003;</li>
            </ul>
          </div>
        </div>

        <div class="proof-step" style="border-left-color: var(--op-mult);">
          <div class="step-title"><span class="step-number">4</span>Prove Multiplicative Homomorphism</div>
          <div class="step-content">
            For all I<sup>a</sup>, I<sup>b</sup> &#8712; I<sup>n</sup>:
          </div>
          <div class="step-equation">
            f(I<sup>a</sup> &#8855; I<sup>b</sup>) = f(I<sup>a&#215;b</sup>) = a &#215; b = f(I<sup>a</sup>) &#215; f(I<sup>b</sup>)
          </div>
          <div class="step-content" style="margin-top: 1rem;">
            <strong>Verification:</strong>
            <ul style="margin-left: 1.5rem; margin-top: 0.5rem;">
              <li>f(I<sup>3</sup> &#8855; I<sup>4</sup>) = f(I<sup>12</sup>) = 12</li>
              <li>f(I<sup>3</sup>) &#215; f(I<sup>4</sup>) = 3 &#215; 4 = 12 &#10003;</li>
            </ul>
          </div>
        </div>

        <div class="proof-step" style="border-left-color: var(--int-positive);">
          <div class="step-title"><span class="step-number">5</span>Conclusion</div>
          <div class="step-content">
            Since f is a bijection that preserves both ring operations:
          </div>
          <div class="step-equation" style="font-size: 1.3rem;">
            (I<sup>n</sup>, &#8853;, &#8855;) &#8773; (&#8484;, +, &#215;) <span style="margin-left: 1rem;">&#9632; QED</span>
          </div>
        </div>
      </div>
    </section>

    <!-- Visual Proof Canvas -->
    <section>
      <h2 class="section-title">Visual Isomorphism Mapping</h2>

      <div class="canvas-container">
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1.5rem;">
          Interactive visualization of the bijection f: I<sup>n</sup> &#8594; &#8484;<br>
          <span style="font-size: 0.85rem;">Hover over elements to see the mapping. Click to verify operations.</span>
        </p>

        <canvas id="isoCanvas" width="1000" height="400"></canvas>

        <div class="canvas-controls">
          <button class="canvas-btn active" onclick="setCanvasMode('mapping')">Show Mapping</button>
          <button class="canvas-btn" onclick="setCanvasMode('addition')">Verify &#8853; &#8594; +</button>
          <button class="canvas-btn" onclick="setCanvasMode('multiplication')">Verify &#8855; &#8594; &#215;</button>
          <button class="canvas-btn" onclick="animateIsomorphism()">Animate</button>
        </div>

        <div id="canvasInfo" style="text-align: center; margin-top: 1.5rem; min-height: 60px;"></div>
      </div>
    </section>

    <!-- Kernel and Image -->
    <section>
      <h2 class="section-title">Kernel and Image</h2>

      <div class="proof-container">
        <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 1.5rem;">
          For a ring homomorphism f, the kernel and image reveal the structure of the mapping.
          A bijective homomorphism has trivial kernel and full image.
        </p>

        <div class="kernel-image-grid">
          <div class="ki-box" style="border: 2px solid var(--int-zero);">
            <div class="ki-title" style="color: var(--int-zero);">Kernel of f</div>
            <div class="ki-equation" style="color: var(--int-zero);">
              ker(f) = {I<sup>n</sup> : f(I<sup>n</sup>) = 0} = {I<sup>0</sup|}
            </div>
            <div class="ki-explanation">
              Only I<sup>0</sup> maps to 0 &#8712; &#8484;.<br>
              The kernel is trivial, confirming injectivity.<br><br>
              <strong>Interpretation:</strong> The "zero" of self-reference is the identity applied zero times&#8212;doing nothing.
            </div>
          </div>

          <div class="ki-box" style="border: 2px solid var(--int-positive);">
            <div class="ki-title" style="color: var(--int-positive);">Image of f</div>
            <div class="ki-equation" style="color: var(--int-positive);">
              im(f) = {f(I<sup>n</sup>) : I<sup>n</sup> &#8712; I<sup>n</sup>} = &#8484;
            </div>
            <div class="ki-explanation">
              Every integer n has a preimage I<sup>n</sup>.<br>
              The image is all of &#8484;, confirming surjectivity.<br><br>
              <strong>Interpretation:</strong> Self-reference can reach any depth, positive or negative.
            </div>
          </div>
        </div>

        <div class="step-equation" style="margin-top: 2rem;">
          ker(f) = {I<sup>0</sup>} &#8771; {0} and im(f) = &#8484; &#8658; f is an isomorphism
        </div>
      </div>
    </section>

    <!-- Structural Preservation -->
    <section>
      <h2 class="section-title">Structural Preservation</h2>

      <div class="proof-container">
        <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 1.5rem;">
          The isomorphism preserves all ring-theoretic properties. What holds in I<sup>n</sup> holds in &#8484; and vice versa.
        </p>

        <div class="property-grid">
          <div class="property-card">
            <div class="property-title">Associativity (&#8853;)</div>
            <div class="property-equation">(I<sup>a</sup> &#8853; I<sup>b</sup>) &#8853; I<sup>c</sup> = I<sup>a</sup> &#8853; (I<sup>b</sup> &#8853; I<sup>c</sup>)</div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">(a + b) + c = a + (b + c)</span>
            </div>
            <div class="property-desc">
              Grouping of compositions doesn't affect the total count.
            </div>
          </div>

          <div class="property-card">
            <div class="property-title">Commutativity (&#8853;)</div>
            <div class="property-equation">I<sup>a</sup> &#8853; I<sup>b</sup> = I<sup>b</sup> &#8853; I<sup>a</sup></div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">a + b = b + a</span>
            </div>
            <div class="property-desc">
              Order of composition count addition is irrelevant.
            </div>
          </div>

          <div class="property-card">
            <div class="property-title">Associativity (&#8855;)</div>
            <div class="property-equation">(I<sup>a</sup> &#8855; I<sup>b</sup>) &#8855; I<sup>c</sup> = I<sup>a</sup> &#8855; (I<sup>b</sup> &#8855; I<sup>c</sup>)</div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">(a &#215; b) &#215; c = a &#215; (b &#215; c)</span>
            </div>
            <div class="property-desc">
              Grouping of multiplicative compositions preserves count.
            </div>
          </div>

          <div class="property-card">
            <div class="property-title">Commutativity (&#8855;)</div>
            <div class="property-equation">I<sup>a</sup> &#8855; I<sup>b</sup> = I<sup>b</sup> &#8855; I<sup>a</sup></div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">a &#215; b = b &#215; a</span>
            </div>
            <div class="property-desc">
              Multiplicative scaling is symmetric.
            </div>
          </div>

          <div class="property-card">
            <div class="property-title">Distributivity (Left)</div>
            <div class="property-equation">I<sup>a</sup> &#8855; (I<sup>b</sup> &#8853; I<sup>c</sup>) = (I<sup>a</sup> &#8855; I<sup>b</sup>) &#8853; (I<sup>a</sup> &#8855; I<sup>c</sup>)</div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">a(b + c) = ab + ac</span>
            </div>
            <div class="property-desc">
              Scaling distributes over composition counting.
            </div>
          </div>

          <div class="property-card">
            <div class="property-title">Distributivity (Right)</div>
            <div class="property-equation">(I<sup>a</sup> &#8853; I<sup>b</sup>) &#8855; I<sup>c</sup> = (I<sup>a</sup> &#8855; I<sup>c</sup>) &#8853; (I<sup>b</sup> &#8855; I<sup>c</sup>)</div>
            <div class="property-transfer">
              <span style="color: var(--ring-gold);">I² Ring</span>
              <span class="property-arrow">&#8594;</span>
              <span style="color: var(--int-zero);">(a + b)c = ac + bc</span>
            </div>
            <div class="property-desc">
              Right-side scaling also distributes fully.
            </div>
          </div>
        </div>
      </div>

      <!-- Interactive Verification -->
      <div class="verify-panel">
        <h3 style="text-align: center; color: var(--ring-amber); margin-bottom: 1rem;">Interactive Property Verification</h3>
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1.5rem;">
          Click each property to verify it with random values
        </p>

        <div class="verify-grid">
          <div class="verify-item" onclick="verifyProperty('assoc-add')">
            <div class="verify-label">Associativity (&#8853;)</div>
            <div class="verify-equation" id="assoc-add-eq">(a&#8853;b)&#8853;c = a&#8853;(b&#8853;c)</div>
            <div class="verify-status" id="assoc-add-status">Click to verify</div>
          </div>
          <div class="verify-item" onclick="verifyProperty('comm-add')">
            <div class="verify-label">Commutativity (&#8853;)</div>
            <div class="verify-equation" id="comm-add-eq">a&#8853;b = b&#8853;a</div>
            <div class="verify-status" id="comm-add-status">Click to verify</div>
          </div>
          <div class="verify-item" onclick="verifyProperty('identity-add')">
            <div class="verify-label">Identity (&#8853;)</div>
            <div class="verify-equation" id="identity-add-eq">a&#8853;I&#8304; = a</div>
            <div class="verify-status" id="identity-add-status">Click to verify</div>
          </div>
          <div class="verify-item" onclick="verifyProperty('assoc-mult')">
            <div class="verify-label">Associativity (&#8855;)</div>
            <div class="verify-equation" id="assoc-mult-eq">(a&#8855;b)&#8855;c = a&#8855;(b&#8855;c)</div>
            <div class="verify-status" id="assoc-mult-status">Click to verify</div>
          </div>
          <div class="verify-item" onclick="verifyProperty('comm-mult')">
            <div class="verify-label">Commutativity (&#8855;)</div>
            <div class="verify-equation" id="comm-mult-eq">a&#8855;b = b&#8855;a</div>
            <div class="verify-status" id="comm-mult-status">Click to verify</div>
          </div>
          <div class="verify-item" onclick="verifyProperty('distrib')">
            <div class="verify-label">Distributivity</div>
            <div class="verify-equation" id="distrib-eq">a&#8855;(b&#8853;c) = (a&#8855;b)&#8853;(a&#8855;c)</div>
            <div class="verify-status" id="distrib-status">Click to verify</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Connection to R(R)=R -->
    <section>
      <h2 class="section-title">Connection to R(R) = R</h2>

      <div class="rr-section">
        <div class="rr-title">The Self-Referential Origin of Ring Structure</div>

        <p style="color: var(--text-secondary); line-height: 1.8; margin-bottom: 1.5rem; text-align: center;">
          The I² Ring emerges directly from the foundational axiom R(R) = R.<br>
          Self-reference, when iterated, generates countable structure.
        </p>

        <div class="rr-axiom">
          R(R) = R
        </div>

        <div class="rr-flow">
          <div class="rr-step">
            <div style="color: var(--ring-gold); font-weight: 600;">R(R) = R</div>
            <div style="color: var(--text-secondary); font-size: 0.85rem;">Self-reference axiom</div>
          </div>
          <span class="rr-arrow">&#8594;</span>
          <div class="rr-step">
            <div style="color: var(--ring-amber); font-weight: 600;">I(I) = I</div>
            <div style="color: var(--text-secondary); font-size: 0.85rem;">Identity instance</div>
          </div>
          <span class="rr-arrow">&#8594;</span>
          <div class="rr-step">
            <div style="color: var(--op-add); font-weight: 600;">I<sup>n</sup></div>
            <div style="color: var(--text-secondary); font-size: 0.85rem;">Count iterations</div>
          </div>
          <span class="rr-arrow">&#8594;</span>
          <div class="rr-step">
            <div style="color: var(--int-zero); font-weight: 600;">&#8484;</div>
            <div style="color: var(--text-secondary); font-size: 0.85rem;">Integers emerge</div>
          </div>
        </div>

        <div class="proof-step" style="margin-top: 2rem; border-left-color: var(--op-add);">
          <div class="step-title">The Derivation</div>
          <div class="step-content">
            <ol style="margin-left: 1.5rem; line-height: 2.2;">
              <li><strong>R(R) = R</strong> states that applying reference to itself yields itself</li>
              <li>Instantiate with identity: <strong>I(I) = I</strong></li>
              <li>The <em>action</em> of self-application can be counted: I, I&#8728;I, I&#8728;I&#8728;I, ...</li>
              <li>This counting extends backwards via inverses: ..., I<sup>-2</sup>, I<sup>-1</sup>, I<sup>0</sup>, I<sup>1</sup>, I<sup>2</sup>, ...</li>
              <li>The count indices form &#8484; with natural operations</li>
              <li>Therefore: <strong>R(R) = R &#8658; I<sup>n</sup> &#8773; &#8484;</strong></li>
            </ol>
          </div>
        </div>

        <div class="insight-box" style="margin-top: 2rem; background: rgba(168, 85, 247, 0.1); border-color: var(--op-add);">
          <div class="insight-text">
            <strong>Fundamental Insight:</strong><br><br>
            The integers are not primitive&#8212;they <em>emerge</em> from self-reference.<br>
            Counting is just tracking depth of R(R) = R application.<br>
            Arithmetic is the natural algebra of self-referential iteration.
          </div>
          <div class="insight-equation" style="color: var(--op-add);">
            &#8484; = &#123;depth(R<sup>n</sup>(R)) : n &#8712; &#8469; &#8746; &#8469;<sup>-1</sup>&#125;
          </div>
        </div>
      </div>
    </section>

    <!-- Interactive Number Line -->
    <section>
      <h2 class="section-title">I² Number Line</h2>

      <div class="number-line-container">
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1.5rem;">
          Each point represents a composition count. Click to see the mapping.
        </p>

        <div class="number-line">
          <div class="number-point point-negative" onclick="showMapping(-3)">
            -3
            <span class="i-notation">I<sup>-3</sup></span>
          </div>
          <div class="number-point point-negative" onclick="showMapping(-2)">
            -2
            <span class="i-notation">I<sup>-2</sup></span>
          </div>
          <div class="number-point point-negative" onclick="showMapping(-1)">
            -1
            <span class="i-notation">I<sup>-1</sup></span>
          </div>
          <div class="number-point point-zero" onclick="showMapping(0)">
            0
            <span class="i-notation">I<sup>0</sup></span>
          </div>
          <div class="number-point point-positive" onclick="showMapping(1)">
            1
            <span class="i-notation">I<sup>1</sup></span>
          </div>
          <div class="number-point point-positive" onclick="showMapping(2)">
            2
            <span class="i-notation">I<sup>2</sup></span>
          </div>
          <div class="number-point point-positive" onclick="showMapping(3)">
            3
            <span class="i-notation">I<sup>3</sup></span>
          </div>
        </div>

        <div id="mapping-display" style="text-align: center; margin-top: 2rem; min-height: 60px;">
          <p style="color: var(--text-secondary);">Click a number to see its I² representation</p>
        </div>
      </div>
    </section>

    <!-- Interactive Calculator -->
    <section>
      <h2 class="section-title">Ring Operations Calculator</h2>

      <div class="demo-container">
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1rem;">
          Verify the isomorphism: operations in I² match operations in &#8484;
        </p>

        <div class="demo-grid">
          <!-- Addition -->
          <div class="demo-card">
            <div class="demo-label">I² Addition (&#8853;)</div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <span>I</span>
              <input type="number" class="demo-input" id="add-n" value="3" style="width: 60px;">
              <span style="color: var(--op-add);">&#8853;</span>
              <span>I</span>
              <input type="number" class="demo-input" id="add-m" value="5" style="width: 60px;">
            </div>
            <div class="demo-result">
              <div class="result-label">Result: I<sup>n+m</sup></div>
              <div class="result-value" id="add-result">I&#8312; &#8773; 8</div>
            </div>
          </div>

          <!-- Multiplication -->
          <div class="demo-card">
            <div class="demo-label">I² Multiplication (&#8855;)</div>
            <div style="display: flex; align-items: center; gap: 0.5rem;">
              <span>I</span>
              <input type="number" class="demo-input" id="mult-n" value="3" style="width: 60px;">
              <span style="color: var(--op-mult);">&#8855;</span>
              <span>I</span>
              <input type="number" class="demo-input" id="mult-m" value="4" style="width: 60px;">
            </div>
            <div class="demo-result">
              <div class="result-label">Result: I<sup>n&#215;m</sup></div>
              <div class="result-value" id="mult-result">I<sup>12</sup> &#8773; 12</div>
            </div>
          </div>

          <!-- Distributivity Check -->
          <div class="demo-card">
            <div class="demo-label">Distributivity Verification</div>
            <div style="display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap;">
              <span>I</span>
              <input type="number" class="demo-input" id="dist-a" value="2" style="width: 50px;">
              <span style="color: var(--op-mult);">&#8855;</span>
              <span>(I</span>
              <input type="number" class="demo-input" id="dist-b" value="3" style="width: 50px;">
              <span style="color: var(--op-add);">&#8853;</span>
              <span>I</span>
              <input type="number" class="demo-input" id="dist-c" value="4" style="width: 50px;">
              <span>)</span>
            </div>
            <div class="demo-result">
              <div class="result-label">Left = Right?</div>
              <div class="result-value" id="dist-result">I<sup>14</sup> = I<sup>14</sup> &#10003;</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Composition Tables -->
    <section>
      <h2 class="section-title">Composition Tables</h2>

      <div class="proof-container">
        <p style="text-align: center; color: var(--text-secondary); margin-bottom: 1.5rem;">
          Complete Cayley tables for both ring operations
        </p>

        <div class="tables-container">
          <div>
            <div class="table-title" style="color: var(--op-add);">Addition Table (&#8853;)</div>
            <table class="comp-table">
              <tr>
                <th>&#8853;</th>
                <th>I<sup>-2</sup></th>
                <th>I<sup>-1</sup></th>
                <th>I<sup>0</sup></th>
                <th>I<sup>1</sup></th>
                <th>I<sup>2</sup></th>
              </tr>
              <tr>
                <th>I<sup>-2</sup></th>
                <td>I<sup>-4</sup></td>
                <td>I<sup>-3</sup></td>
                <td>I<sup>-2</sup></td>
                <td>I<sup>-1</sup></td>
                <td>I<sup>0</sup></td>
              </tr>
              <tr>
                <th>I<sup>-1</sup></th>
                <td>I<sup>-3</sup></td>
                <td>I<sup>-2</sup></td>
                <td>I<sup>-1</sup></td>
                <td>I<sup>0</sup></td>
                <td>I<sup>1</sup></td>
              </tr>
              <tr>
                <th>I<sup>0</sup></th>
                <td>I<sup>-2</sup></td>
                <td>I<sup>-1</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td>I<sup>1</sup></td>
                <td>I<sup>2</sup></td>
              </tr>
              <tr>
                <th>I<sup>1</sup></th>
                <td>I<sup>-1</sup></td>
                <td>I<sup>0</sup></td>
                <td>I<sup>1</sup></td>
                <td>I<sup>2</sup></td>
                <td>I<sup>3</sup></td>
              </tr>
              <tr>
                <th>I<sup>2</sup></th>
                <td>I<sup>0</sup></td>
                <td>I<sup>1</sup></td>
                <td>I<sup>2</sup></td>
                <td>I<sup>3</sup></td>
                <td>I<sup>4</sup></td>
              </tr>
            </table>
          </div>

          <div>
            <div class="table-title" style="color: var(--op-mult);">Multiplication Table (&#8855;)</div>
            <table class="comp-table">
              <tr>
                <th>&#8855;</th>
                <th>I<sup>-2</sup></th>
                <th>I<sup>-1</sup></th>
                <th>I<sup>0</sup></th>
                <th>I<sup>1</sup></th>
                <th>I<sup>2</sup></th>
              </tr>
              <tr>
                <th>I<sup>-2</sup></th>
                <td>I<sup>4</sup></td>
                <td>I<sup>2</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td>I<sup>-2</sup></td>
                <td>I<sup>-4</sup></td>
              </tr>
              <tr>
                <th>I<sup>-1</sup></th>
                <td>I<sup>2</sup></td>
                <td>I<sup>1</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td>I<sup>-1</sup></td>
                <td>I<sup>-2</sup></td>
              </tr>
              <tr>
                <th>I<sup>0</sup></th>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
              </tr>
              <tr>
                <th>I<sup>1</sup></th>
                <td>I<sup>-2</sup></td>
                <td>I<sup>-1</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td style="background: rgba(255, 215, 0, 0.2);">I<sup>1</sup></td>
                <td>I<sup>2</sup></td>
              </tr>
              <tr>
                <th>I<sup>2</sup></th>
                <td>I<sup>-4</sup></td>
                <td>I<sup>-2</sup></td>
                <td style="background: rgba(78, 205, 196, 0.2);">I<sup>0</sup></td>
                <td>I<sup>2</sup></td>
                <td>I<sup>4</sup></td>
              </tr>
            </table>
          </div>
        </div>

        <p style="text-align: center; color: var(--text-secondary); margin-top: 1.5rem; font-size: 0.9rem;">
          Note: The I<sup>0</sup> row in &#8855; is all I<sup>0</sup> (zero times anything is zero).<br>
          The I<sup>1</sup> diagonal in &#8855; is highlighted as the multiplicative identity.
        </p>
      </div>
    </section>

    <!-- Key Insight -->
    <section>
      <div class="insight-box">
        <div class="insight-icon">&#8734;</div>
        <div class="insight-text">
          <strong>The Profound Insight:</strong><br><br>
          Self-reference doesn't just iterate&#8212;it <em>counts</em>.<br>
          The integers emerge not from quantity, but from <em>composition depth</em>.<br>
          Identity applied to itself generates all of number theory.
        </div>
        <div class="insight-equation">
          R(R) = R &#8594; I<sup>n</sup> &#8773; &#8484; &#8594; Arithmetic Emerges
        </div>
      </div>
    </section>

    <!-- Connection to Golden Functor -->
    <section>
      <h2 class="section-title">Connection to Golden Functor</h2>

      <div class="proof-container">
        <p style="color: var(--text-secondary); line-height: 1.7; margin-bottom: 1.5rem;">
          The Ring Isomorphism is the algebraic foundation. The Golden Functor extends it:
        </p>

        <div class="step-equation" style="font-size: 1.3rem;">
          F: (I<sup>n</sup>, &#8853;, &#8855;) &#8594; (&#8477;&#8330;, &#215;, &#8593;)<br><br>
          F(I<sup>n</sup>) = &#966;<sup>n</sup>
        </div>

        <p style="color: var(--text-secondary); line-height: 1.7; margin-top: 1.5rem;">
          This functor embeds the I² ring into the multiplicative reals via golden ratio scaling,
          connecting self-reference to the &#923;'-lattice structure. The isomorphism I<sup>n</sup> &#8773; &#8484;
          is the discrete backbone upon which the continuous golden embedding is built.
        </p>

        <div style="text-align: center; margin-top: 2rem;">
          <a href="i2-s3-golden-functor.html" style="display: inline-block; padding: 1rem 2rem; background: var(--ring-gold); color: var(--bg-primary); text-decoration: none; border-radius: 8px; font-weight: 600;">
            Explore Golden Functor &#8594;
          </a>
        </div>
      </div>
    </section>

  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-equation">
      I² :: (I<sup>n</sup>, &#8853;, &#8855;) &#8773; (&#8484;, +, &#215;) :: Self-reference generates structure
    </div>
    <div class="footer-links">
      <a href="index.html">Main Index</a>
      <a href="i2-s3-decision-tree.html">I² S3 Tree</a>
      <a href="i2-s3-golden-functor.html">Golden Functor</a>
      <a href="i2-s3-lomi-projection.html">LoMI Projection</a>
      <a href="i2-s3-tdl-projection.html">TDL Projection</a>
    </div>
  </footer>

  <script>
    // ====== NUMBER LINE MAPPING ======
    function showMapping(n) {
      const display = document.getElementById('mapping-display');
      const superscript = formatSuperscript(n);
      const phi = ((1 + Math.sqrt(5)) / 2);
      const phiN = Math.pow(phi, n).toFixed(4);

      display.innerHTML = `
        <div style="padding: 1.5rem; background: var(--bg-tertiary); border-radius: 12px;">
          <div style="font-size: 1.3rem; color: var(--ring-gold); margin-bottom: 0.5rem;">
            f(I${superscript}) = ${n}
          </div>
          <div style="color: var(--text-secondary);">
            Composition count: ${n}<br>
            Golden projection: &#966;${superscript} = ${phiN}<br>
            <span style="color: var(--int-zero);">Bijection verified: I${superscript} &#8596; ${n}</span>
          </div>
        </div>
      `;
    }

    // ====== CALCULATOR ======
    function updateAddition() {
      const n = parseInt(document.getElementById('add-n').value) || 0;
      const m = parseInt(document.getElementById('add-m').value) || 0;
      const result = n + m;
      const superscript = formatSuperscript(result);
      document.getElementById('add-result').textContent = `I${superscript} ≅ ${result}`;
    }

    function updateMultiplication() {
      const n = parseInt(document.getElementById('mult-n').value) || 0;
      const m = parseInt(document.getElementById('mult-m').value) || 0;
      const result = n * m;
      const superscript = formatSuperscript(result);
      document.getElementById('mult-result').textContent = `I${superscript} ≅ ${result}`;
    }

    function updateDistributivity() {
      const a = parseInt(document.getElementById('dist-a').value) || 0;
      const b = parseInt(document.getElementById('dist-b').value) || 0;
      const c = parseInt(document.getElementById('dist-c').value) || 0;
      const left = a * (b + c);
      const right = (a * b) + (a * c);
      const superL = formatSuperscript(left);
      const superR = formatSuperscript(right);
      const valid = left === right ? '✓' : '✗';
      document.getElementById('dist-result').innerHTML = `I${superL} = I${superR} ${valid}`;
    }

    function formatSuperscript(n) {
      const superscripts = {'0': '⁰', '1': '¹', '2': '²', '3': '³', '4': '⁴', '5': '⁵', '6': '⁶', '7': '⁷', '8': '⁸', '9': '⁹', '-': '⁻'};
      return String(n).split('').map(c => superscripts[c] || c).join('');
    }

    // ====== PROPERTY VERIFICATION ======
    function verifyProperty(prop) {
      const a = Math.floor(Math.random() * 9) - 4;
      const b = Math.floor(Math.random() * 9) - 4;
      const c = Math.floor(Math.random() * 9) - 4;

      let equation, status, verified;
      const supA = formatSuperscript(a);
      const supB = formatSuperscript(b);
      const supC = formatSuperscript(c);

      switch(prop) {
        case 'assoc-add':
          const addL = (a + b) + c;
          const addR = a + (b + c);
          verified = addL === addR;
          equation = `(I${supA}⊕I${supB})⊕I${supC} = I${supA}⊕(I${supB}⊕I${supC})`;
          status = `${(a+b)+c} = ${a+(b+c)} ${verified ? '✓' : '✗'}`;
          break;
        case 'comm-add':
          verified = (a + b) === (b + a);
          equation = `I${supA}⊕I${supB} = I${supB}⊕I${supA}`;
          status = `${a+b} = ${b+a} ${verified ? '✓' : '✗'}`;
          break;
        case 'identity-add':
          verified = (a + 0) === a;
          equation = `I${supA}⊕I⁰ = I${supA}`;
          status = `${a+0} = ${a} ${verified ? '✓' : '✗'}`;
          break;
        case 'assoc-mult':
          const multL = (a * b) * c;
          const multR = a * (b * c);
          verified = multL === multR;
          equation = `(I${supA}⊗I${supB})⊗I${supC} = I${supA}⊗(I${supB}⊗I${supC})`;
          status = `${(a*b)*c} = ${a*(b*c)} ${verified ? '✓' : '✗'}`;
          break;
        case 'comm-mult':
          verified = (a * b) === (b * a);
          equation = `I${supA}⊗I${supB} = I${supB}⊗I${supA}`;
          status = `${a*b} = ${b*a} ${verified ? '✓' : '✗'}`;
          break;
        case 'distrib':
          const distL = a * (b + c);
          const distR = (a * b) + (a * c);
          verified = distL === distR;
          equation = `I${supA}⊗(I${supB}⊕I${supC}) = (I${supA}⊗I${supB})⊕(I${supA}⊗I${supC})`;
          status = `${a*(b+c)} = ${(a*b)+(a*c)} ${verified ? '✓' : '✗'}`;
          break;
      }

      const eqEl = document.getElementById(`${prop}-eq`);
      const statusEl = document.getElementById(`${prop}-status`);
      const itemEl = eqEl.parentElement;

      eqEl.textContent = equation;
      statusEl.innerHTML = `<span style="color: ${verified ? 'var(--int-positive)' : 'var(--int-negative)'};">${status}</span>`;

      if (verified) {
        itemEl.classList.add('verified');
      }
    }

    // ====== CANVAS VISUALIZATION ======
    let canvasMode = 'mapping';
    let animationId = null;

    function initCanvas() {
      const canvas = document.getElementById('isoCanvas');
      const ctx = canvas.getContext('2d');

      // Set actual size
      const rect = canvas.getBoundingClientRect();
      canvas.width = rect.width * window.devicePixelRatio;
      canvas.height = 400 * window.devicePixelRatio;
      ctx.scale(window.devicePixelRatio, window.devicePixelRatio);

      drawCanvas();
    }

    function setCanvasMode(mode) {
      canvasMode = mode;
      document.querySelectorAll('.canvas-btn').forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      if (animationId) {
        cancelAnimationFrame(animationId);
        animationId = null;
      }
      drawCanvas();
    }

    function drawCanvas() {
      const canvas = document.getElementById('isoCanvas');
      const ctx = canvas.getContext('2d');
      const width = canvas.getBoundingClientRect().width;
      const height = 400;

      ctx.clearRect(0, 0, width, height);

      // Background
      ctx.fillStyle = '#0a0a0f';
      ctx.fillRect(0, 0, width, height);

      if (canvasMode === 'mapping') {
        drawMappingVisualization(ctx, width, height);
      } else if (canvasMode === 'addition') {
        drawOperationVisualization(ctx, width, height, 'add');
      } else if (canvasMode === 'multiplication') {
        drawOperationVisualization(ctx, width, height, 'mult');
      }
    }

    function drawMappingVisualization(ctx, width, height) {
      const centerY = height / 2;
      const elements = [-4, -3, -2, -1, 0, 1, 2, 3, 4];
      const spacing = width / (elements.length + 1);

      // Draw I² row (top)
      ctx.fillStyle = '#ffd700';
      ctx.font = '14px JetBrains Mono';
      ctx.textAlign = 'center';
      ctx.fillText('I² Ring', width / 2, 30);

      // Draw ℤ row (bottom)
      ctx.fillStyle = '#4ecdc4';
      ctx.fillText('ℤ Integers', width / 2, height - 20);

      elements.forEach((n, i) => {
        const x = spacing * (i + 1);
        const supStr = formatSuperscript(n);

        // I² element
        ctx.beginPath();
        ctx.arc(x, centerY - 80, 25, 0, Math.PI * 2);
        ctx.fillStyle = n === 0 ? '#4ecdc4' : (n > 0 ? 'rgba(0, 255, 136, 0.3)' : 'rgba(255, 107, 107, 0.3)');
        ctx.fill();
        ctx.strokeStyle = n === 0 ? '#4ecdc4' : (n > 0 ? '#00ff88' : '#ff6b6b');
        ctx.lineWidth = 2;
        ctx.stroke();

        ctx.fillStyle = '#fff';
        ctx.font = '12px JetBrains Mono';
        ctx.fillText(`I${supStr}`, x, centerY - 76);

        // Arrow
        ctx.beginPath();
        ctx.moveTo(x, centerY - 50);
        ctx.lineTo(x, centerY + 50);
        ctx.strokeStyle = '#ffd700';
        ctx.lineWidth = 2;
        ctx.stroke();

        // Arrowhead
        ctx.beginPath();
        ctx.moveTo(x - 6, centerY + 40);
        ctx.lineTo(x, centerY + 55);
        ctx.lineTo(x + 6, centerY + 40);
        ctx.stroke();

        // Integer element
        ctx.beginPath();
        ctx.arc(x, centerY + 80, 25, 0, Math.PI * 2);
        ctx.fillStyle = n === 0 ? '#4ecdc4' : (n > 0 ? 'rgba(0, 255, 136, 0.3)' : 'rgba(255, 107, 107, 0.3)');
        ctx.fill();
        ctx.strokeStyle = n === 0 ? '#4ecdc4' : (n > 0 ? '#00ff88' : '#ff6b6b');
        ctx.stroke();

        ctx.fillStyle = '#fff';
        ctx.fillText(String(n), x, centerY + 84);
      });

      // Label the mapping
      ctx.fillStyle = '#ffd700';
      ctx.font = '16px JetBrains Mono';
      ctx.fillText('f: Iⁿ → n', width / 2, centerY);
    }

    function drawOperationVisualization(ctx, width, height, opType) {
      const a = 2, b = 3;
      const result = opType === 'add' ? a + b : a * b;
      const opSymbol = opType === 'add' ? '⊕' : '⊗';
      const intOp = opType === 'add' ? '+' : '×';

      const supA = formatSuperscript(a);
      const supB = formatSuperscript(b);
      const supR = formatSuperscript(result);

      // I² operation (top)
      ctx.fillStyle = '#ffd700';
      ctx.font = '20px JetBrains Mono';
      ctx.textAlign = 'center';
      ctx.fillText(`I² Ring: I${supA} ${opSymbol} I${supB} = I${supR}`, width / 2, 60);

      // Draw circles for operands and result
      const y1 = 130;

      // First operand
      ctx.beginPath();
      ctx.arc(width/4, y1, 35, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(0, 255, 136, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#00ff88';
      ctx.lineWidth = 3;
      ctx.stroke();
      ctx.fillStyle = '#fff';
      ctx.font = '18px JetBrains Mono';
      ctx.fillText(`I${supA}`, width/4, y1 + 6);

      // Operation
      ctx.fillStyle = opType === 'add' ? '#a855f7' : '#ff9f43';
      ctx.font = '30px JetBrains Mono';
      ctx.fillText(opSymbol, width/2 - 50, y1 + 10);

      // Second operand
      ctx.beginPath();
      ctx.arc(width/2, y1, 35, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(0, 255, 136, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#00ff88';
      ctx.lineWidth = 3;
      ctx.stroke();
      ctx.fillStyle = '#fff';
      ctx.font = '18px JetBrains Mono';
      ctx.fillText(`I${supB}`, width/2, y1 + 6);

      // Equals
      ctx.fillStyle = '#ffd700';
      ctx.font = '30px JetBrains Mono';
      ctx.fillText('=', width/2 + 70, y1 + 10);

      // Result
      ctx.beginPath();
      ctx.arc(3*width/4, y1, 40, 0, Math.PI * 2);
      ctx.fillStyle = 'rgba(255, 215, 0, 0.3)';
      ctx.fill();
      ctx.strokeStyle = '#ffd700';
      ctx.lineWidth = 3;
      ctx.stroke();
      ctx.fillStyle = '#fff';
      ctx.font = '18px JetBrains Mono';
      ctx.fillText(`I${supR}`, 3*width/4, y1 + 6);

      // Arrows down
      const arrowY = 200;
      [width/4, width/2, 3*width/4].forEach(x => {
        ctx.beginPath();
        ctx.moveTo(x, y1 + 45);
        ctx.lineTo(x, arrowY);
        ctx.strokeStyle = '#ffd700';
        ctx.lineWidth = 2;
        ctx.stroke();
        ctx.beginPath();
        ctx.moveTo(x - 6, arrowY - 10);
        ctx.lineTo(x, arrowY);
        ctx.lineTo(x + 6, arrowY - 10);
        ctx.stroke();
      });

      // f labels
      ctx.fillStyle = '#a0a0b0';
      ctx.font = '12px JetBrains Mono';
      ctx.fillText('f', width/4 + 15, (y1 + 45 + arrowY) / 2);
      ctx.fillText('f', width/2 + 15, (y1 + 45 + arrowY) / 2);
      ctx.fillText('f', 3*width/4 + 15, (y1 + 45 + arrowY) / 2);

      // ℤ operation (bottom)
      const y2 = 270;
      ctx.fillStyle = '#4ecdc4';
      ctx.font = '20px JetBrains Mono';
      ctx.fillText(`ℤ: ${a} ${intOp} ${b} = ${result}`, width / 2, y2);

      // Draw integer circles
      const y3 = 330;

      [a, b, result].forEach((val, i) => {
        const x = i === 0 ? width/4 : (i === 1 ? width/2 : 3*width/4);
        ctx.beginPath();
        ctx.arc(x, y3, 35, 0, Math.PI * 2);
        ctx.fillStyle = i === 2 ? 'rgba(78, 205, 196, 0.3)' : 'rgba(0, 255, 136, 0.3)';
        ctx.fill();
        ctx.strokeStyle = i === 2 ? '#4ecdc4' : '#00ff88';
        ctx.lineWidth = 3;
        ctx.stroke();
        ctx.fillStyle = '#fff';
        ctx.font = '20px JetBrains Mono';
        ctx.fillText(String(val), x, y3 + 7);
      });

      // Operation symbols between integers
      ctx.fillStyle = opType === 'add' ? '#a855f7' : '#ff9f43';
      ctx.font = '24px JetBrains Mono';
      ctx.fillText(intOp, width/2 - 50, y3 + 8);
      ctx.fillStyle = '#4ecdc4';
      ctx.fillText('=', width/2 + 70, y3 + 8);

      // Homomorphism statement
      ctx.fillStyle = '#ffd700';
      ctx.font = '14px JetBrains Mono';
      const homoText = opType === 'add'
        ? 'f(Iᵃ ⊕ Iᵇ) = f(Iᵃ) + f(Iᵇ)'
        : 'f(Iᵃ ⊗ Iᵇ) = f(Iᵃ) × f(Iᵇ)';
      ctx.fillText(homoText, width / 2, height - 20);
    }

    function animateIsomorphism() {
      if (animationId) {
        cancelAnimationFrame(animationId);
        animationId = null;
        return;
      }

      const canvas = document.getElementById('isoCanvas');
      const ctx = canvas.getContext('2d');
      const width = canvas.getBoundingClientRect().width;
      const height = 400;

      let phase = 0;
      const elements = [-3, -2, -1, 0, 1, 2, 3];

      function animate() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = '#0a0a0f';
        ctx.fillRect(0, 0, width, height);

        const spacing = width / (elements.length + 1);
        const centerY = height / 2;
        const waveOffset = Math.sin(phase) * 20;

        // Title
        ctx.fillStyle = '#ffd700';
        ctx.font = '16px JetBrains Mono';
        ctx.textAlign = 'center';
        ctx.fillText('Isomorphism Animation: Iⁿ ≅ ℤ', width / 2, 25);

        elements.forEach((n, i) => {
          const x = spacing * (i + 1);
          const supStr = formatSuperscript(n);
          const individualPhase = phase + (i * 0.3);
          const yOffset = Math.sin(individualPhase) * 15;

          // I² element with animation
          ctx.beginPath();
          ctx.arc(x, centerY - 80 + yOffset, 25 + Math.sin(individualPhase) * 3, 0, Math.PI * 2);
          const alpha = 0.3 + Math.sin(individualPhase) * 0.2;
          ctx.fillStyle = n === 0 ? `rgba(78, 205, 196, ${alpha})` :
                         (n > 0 ? `rgba(0, 255, 136, ${alpha})` : `rgba(255, 107, 107, ${alpha})`);
          ctx.fill();
          ctx.strokeStyle = n === 0 ? '#4ecdc4' : (n > 0 ? '#00ff88' : '#ff6b6b');
          ctx.lineWidth = 2;
          ctx.stroke();

          ctx.fillStyle = '#fff';
          ctx.font = '12px JetBrains Mono';
          ctx.fillText(`I${supStr}`, x, centerY - 76 + yOffset);

          // Animated arrow
          const arrowPhase = (individualPhase + Math.PI) % (Math.PI * 2);
          const arrowProgress = (Math.sin(arrowPhase) + 1) / 2;

          ctx.beginPath();
          ctx.moveTo(x, centerY - 50 + yOffset);
          const arrowEndY = centerY - 50 + yOffset + (100 * arrowProgress);
          ctx.lineTo(x, arrowEndY);
          ctx.strokeStyle = `rgba(255, 215, 0, ${0.3 + arrowProgress * 0.7})`;
          ctx.lineWidth = 2;
          ctx.stroke();

          if (arrowProgress > 0.8) {
            ctx.beginPath();
            ctx.moveTo(x - 6, arrowEndY - 10);
            ctx.lineTo(x, arrowEndY);
            ctx.lineTo(x + 6, arrowEndY - 10);
            ctx.stroke();
          }

          // Integer element
          ctx.beginPath();
          ctx.arc(x, centerY + 80 - yOffset, 25 + Math.sin(individualPhase + Math.PI) * 3, 0, Math.PI * 2);
          ctx.fillStyle = n === 0 ? `rgba(78, 205, 196, ${alpha})` :
                         (n > 0 ? `rgba(0, 255, 136, ${alpha})` : `rgba(255, 107, 107, ${alpha})`);
          ctx.fill();
          ctx.strokeStyle = n === 0 ? '#4ecdc4' : (n > 0 ? '#00ff88' : '#ff6b6b');
          ctx.stroke();

          ctx.fillStyle = '#fff';
          ctx.fillText(String(n), x, centerY + 84 - yOffset);
        });

        // Center label
        ctx.fillStyle = '#ffd700';
        ctx.font = '18px JetBrains Mono';
        ctx.fillText('f: Iⁿ ↔ n', width / 2, centerY);

        phase += 0.03;
        animationId = requestAnimationFrame(animate);
      }

      animate();
    }

    // ====== EVENT LISTENERS ======
    document.getElementById('add-n').addEventListener('input', updateAddition);
    document.getElementById('add-m').addEventListener('input', updateAddition);
    document.getElementById('mult-n').addEventListener('input', updateMultiplication);
    document.getElementById('mult-m').addEventListener('input', updateMultiplication);
    document.getElementById('dist-a').addEventListener('input', updateDistributivity);
    document.getElementById('dist-b').addEventListener('input', updateDistributivity);
    document.getElementById('dist-c').addEventListener('input', updateDistributivity);

    // Initialize on load
    window.addEventListener('load', () => {
      initCanvas();
      updateAddition();
      updateMultiplication();
      updateDistributivity();
    });

    window.addEventListener('resize', initCanvas);
  </script>
</body>
</html>
